!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Photosynthesis=e():t.Photosynthesis=e()}(this,(()=>(()=>{var t={8552:(t,e,n)=>{var i=n(852)(n(5639),"DataView");t.exports=i},1989:(t,e,n)=>{var i=n(1789),r=n(401),o=n(7667),s=n(1327),a=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},8407:(t,e,n)=>{var i=n(7040),r=n(4125),o=n(2117),s=n(7518),a=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},7071:(t,e,n)=>{var i=n(852)(n(5639),"Map");t.exports=i},3369:(t,e,n)=>{var i=n(4785),r=n(1285),o=n(6e3),s=n(9916),a=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,t.exports=l},3818:(t,e,n)=>{var i=n(852)(n(5639),"Promise");t.exports=i},8525:(t,e,n)=>{var i=n(852)(n(5639),"Set");t.exports=i},8668:(t,e,n)=>{var i=n(3369),r=n(619),o=n(2385);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,t.exports=s},6384:(t,e,n)=>{var i=n(8407),r=n(7465),o=n(3779),s=n(7599),a=n(4758),l=n(4309);function h(t){var e=this.__data__=new i(t);this.size=e.size}h.prototype.clear=r,h.prototype.delete=o,h.prototype.get=s,h.prototype.has=a,h.prototype.set=l,t.exports=h},2705:(t,e,n)=>{var i=n(5639).Symbol;t.exports=i},1149:(t,e,n)=>{var i=n(5639).Uint8Array;t.exports=i},577:(t,e,n)=>{var i=n(852)(n(5639),"WeakMap");t.exports=i},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}},4636:(t,e,n)=>{var i=n(2545),r=n(5694),o=n(1469),s=n(4144),a=n(5776),l=n(6719),h=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&r(t),u=!n&&!c&&s(t),f=!n&&!c&&!u&&l(t),p=n||c||u||f,d=p?i(t.length,String):[],m=d.length;for(var y in t)!e&&!h.call(t,y)||p&&("length"==y||u&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,m))||d.push(y);return d}},9932:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},2488:t=>{t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},6556:(t,e,n)=>{var i=n(9465),r=n(7813);t.exports=function(t,e,n){(void 0!==n&&!r(t[e],n)||void 0===n&&!(e in t))&&i(t,e,n)}},4865:(t,e,n)=>{var i=n(9465),r=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&r(s,n)&&(void 0!==n||e in t)||i(t,e,n)}},8470:(t,e,n)=>{var i=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var i=n(8363),r=n(3674);t.exports=function(t,e){return t&&i(e,r(e),t)}},3886:(t,e,n)=>{var i=n(8363),r=n(1704);t.exports=function(t,e){return t&&i(e,r(e),t)}},9465:(t,e,n)=>{var i=n(8777);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var i=n(6384),r=n(7412),o=n(4865),s=n(4037),a=n(3886),l=n(4626),h=n(278),c=n(8805),u=n(1911),f=n(8234),p=n(6904),d=n(4160),m=n(3824),y=n(9148),g=n(8517),v=n(1469),b=n(4144),x=n(6688),w=n(3218),C=n(2928),_=n(3674),k=n(1704),L="[object Arguments]",M="[object Function]",A="[object Object]",O={};O[L]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[A]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[M]=O["[object WeakMap]"]=!1,t.exports=function t(e,n,T,z,D,F){var S,j=1&n,E=2&n,P=4&n;if(T&&(S=D?T(e,z,D,F):T(e)),void 0!==S)return S;if(!w(e))return e;var B=v(e);if(B){if(S=m(e),!j)return h(e,S)}else{var I=d(e),N=I==M||"[object GeneratorFunction]"==I;if(b(e))return l(e,j);if(I==A||I==L||N&&!D){if(S=E||N?{}:g(e),!j)return E?u(e,a(S,e)):c(e,s(S,e))}else{if(!O[I])return D?e:{};S=y(e,I,j)}}F||(F=new i);var q=F.get(e);if(q)return q;F.set(e,S),C(e)?e.forEach((function(i){S.add(t(i,n,T,i,e,F))})):x(e)&&e.forEach((function(i,r){S.set(r,t(i,n,T,r,e,F))}));var U=B?void 0:(P?E?p:f:E?k:_)(e);return r(U||e,(function(i,r){U&&(i=e[r=i]),o(S,r,t(i,n,T,r,e,F))})),S}},3118:(t,e,n)=>{var i=n(3218),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},8483:(t,e,n)=>{var i=n(5063)();t.exports=i},7786:(t,e,n)=>{var i=n(1811),r=n(327);t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var i=n(2488),r=n(1469);t.exports=function(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}},4239:(t,e,n)=>{var i=n(2705),r=n(9607),o=n(2333),s=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):o(t)}},9454:(t,e,n)=>{var i=n(4239),r=n(7005);t.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}},939:(t,e,n)=>{var i=n(2492),r=n(7005);t.exports=function t(e,n,o,s,a){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,s,t,a))}},2492:(t,e,n)=>{var i=n(6384),r=n(7114),o=n(8351),s=n(6096),a=n(4160),l=n(1469),h=n(4144),c=n(6719),u="[object Arguments]",f="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,y,g){var v=l(t),b=l(e),x=v?f:a(t),w=b?f:a(e),C=(x=x==u?p:x)==p,_=(w=w==u?p:w)==p,k=x==w;if(k&&h(t)){if(!h(e))return!1;v=!0,C=!1}if(k&&!C)return g||(g=new i),v||c(t)?r(t,e,n,m,y,g):o(t,e,x,n,m,y,g);if(!(1&n)){var L=C&&d.call(t,"__wrapped__"),M=_&&d.call(e,"__wrapped__");if(L||M){var A=L?t.value():t,O=M?e.value():e;return g||(g=new i),y(A,O,n,m,g)}}return!!k&&(g||(g=new i),s(t,e,n,m,y,g))}},5588:(t,e,n)=>{var i=n(4160),r=n(7005);t.exports=function(t){return r(t)&&"[object Map]"==i(t)}},8458:(t,e,n)=>{var i=n(3560),r=n(5346),o=n(3218),s=n(346),a=/^\[object .+?Constructor\]$/,l=Function.prototype,h=Object.prototype,c=l.toString,u=h.hasOwnProperty,f=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?f:a).test(s(t))}},9221:(t,e,n)=>{var i=n(4160),r=n(7005);t.exports=function(t){return r(t)&&"[object Set]"==i(t)}},8749:(t,e,n)=>{var i=n(4239),r=n(1780),o=n(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!s[i(t)]}},280:(t,e,n)=>{var i=n(5726),r=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var i=n(3218),r=n(5726),o=n(3498),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return o(t);var e=r(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},2980:(t,e,n)=>{var i=n(6384),r=n(6556),o=n(8483),s=n(9783),a=n(3218),l=n(1704),h=n(6390);t.exports=function t(e,n,c,u,f){e!==n&&o(n,(function(o,l){if(f||(f=new i),a(o))s(e,n,l,c,t,u,f);else{var p=u?u(h(e,l),o,l+"",e,n,f):void 0;void 0===p&&(p=o),r(e,l,p)}}),l)}},9783:(t,e,n)=>{var i=n(6556),r=n(4626),o=n(7133),s=n(278),a=n(8517),l=n(5694),h=n(1469),c=n(9246),u=n(4144),f=n(3560),p=n(3218),d=n(8630),m=n(6719),y=n(6390),g=n(9881);t.exports=function(t,e,n,v,b,x,w){var C=y(t,n),_=y(e,n),k=w.get(_);if(k)i(t,n,k);else{var L=x?x(C,_,n+"",t,e,w):void 0,M=void 0===L;if(M){var A=h(_),O=!A&&u(_),T=!A&&!O&&m(_);L=_,A||O||T?h(C)?L=C:c(C)?L=s(C):O?(M=!1,L=r(_,!0)):T?(M=!1,L=o(_,!0)):L=[]:d(_)||l(_)?(L=C,l(C)?L=g(C):p(C)&&!f(C)||(L=a(_))):M=!1}M&&(w.set(_,L),b(L,_,v,x,w),w.delete(_)),i(t,n,L)}}},5976:(t,e,n)=>{var i=n(6557),r=n(5357),o=n(61);t.exports=function(t,e){return o(r(t,e,i),t+"")}},6560:(t,e,n)=>{var i=n(5703),r=n(8777),o=n(6557),s=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=s},2545:t=>{t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},531:(t,e,n)=>{var i=n(2705),r=n(9932),o=n(1469),s=n(3448),a=i?i.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(s(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var i=n(1469),r=n(5403),o=n(5514),s=n(9833);t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(s(t))}},4318:(t,e,n)=>{var i=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var i=n(5639),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}},7157:(t,e,n)=>{var i=n(4318);t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var i=n(2705),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var i=n(4318);t.exports=function(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},8363:(t,e,n)=>{var i=n(4865),r=n(9465);t.exports=function(t,e,n,o){var s=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var h=e[a],c=o?o(n[h],t[h],h,n,t):void 0;void 0===c&&(c=t[h]),s?r(n,h,c):i(n,h,c)}return n}},8805:(t,e,n)=>{var i=n(8363),r=n(9551);t.exports=function(t,e){return i(t,r(t),e)}},1911:(t,e,n)=>{var i=n(8363),r=n(1442);t.exports=function(t,e){return i(t,r(t),e)}},4429:(t,e,n)=>{var i=n(5639)["__core-js_shared__"];t.exports=i},1463:(t,e,n)=>{var i=n(5976),r=n(6612);t.exports=function(t){return i((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++i<o;){var l=n[i];l&&t(e,l,i,s)}return e}))}},5063:t=>{t.exports=function(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}},8777:(t,e,n)=>{var i=n(852),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},7114:(t,e,n)=>{var i=n(8668),r=n(2908),o=n(4757);t.exports=function(t,e,n,s,a,l){var h=1&n,c=t.length,u=e.length;if(c!=u&&!(h&&u>c))return!1;var f=l.get(t),p=l.get(e);if(f&&p)return f==e&&p==t;var d=-1,m=!0,y=2&n?new i:void 0;for(l.set(t,e),l.set(e,t);++d<c;){var g=t[d],v=e[d];if(s)var b=h?s(v,g,d,e,t,l):s(g,v,d,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!r(e,(function(t,e){if(!o(y,e)&&(g===t||a(g,t,n,s,l)))return y.push(e)}))){m=!1;break}}else if(g!==v&&!a(g,v,n,s,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},8351:(t,e,n)=>{var i=n(2705),r=n(1149),o=n(7813),s=n(7114),a=n(8776),l=n(1814),h=i?i.prototype:void 0,c=h?h.valueOf:void 0;t.exports=function(t,e,n,i,h,u,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new r(t),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=a;case"[object Set]":var d=1&i;if(p||(p=l),t.size!=e.size&&!d)return!1;var m=f.get(t);if(m)return m==e;i|=2,f.set(t,e);var y=s(p(t),p(e),i,h,u,f);return f.delete(t),y;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},6096:(t,e,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,s,a){var l=1&n,h=i(t),c=h.length;if(c!=i(e).length&&!l)return!1;for(var u=c;u--;){var f=h[u];if(!(l?f in e:r.call(e,f)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var m=!0;a.set(t,e),a.set(e,t);for(var y=l;++u<c;){var g=t[f=h[u]],v=e[f];if(o)var b=l?o(v,g,f,e,t,a):o(g,v,f,t,e,a);if(!(void 0===b?g===v||s(g,v,n,o,a):b)){m=!1;break}y||(y="constructor"==f)}if(m&&!y){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return a.delete(t),a.delete(e),m}},1957:(t,e,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},8234:(t,e,n)=>{var i=n(8866),r=n(9551),o=n(3674);t.exports=function(t){return i(t,o,r)}},6904:(t,e,n)=>{var i=n(8866),r=n(1442),o=n(1704);t.exports=function(t){return i(t,o,r)}},5050:(t,e,n)=>{var i=n(7019);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},852:(t,e,n)=>{var i=n(8458),r=n(7801);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},5924:(t,e,n)=>{var i=n(5569)(Object.getPrototypeOf,Object);t.exports=i},9607:(t,e,n)=>{var i=n(2705),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}},9551:(t,e,n)=>{var i=n(4963),r=n(479),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),i(s(t),(function(e){return o.call(t,e)})))}:r;t.exports=a},1442:(t,e,n)=>{var i=n(2488),r=n(5924),o=n(9551),s=n(479),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)i(e,o(t)),t=r(t);return e}:s;t.exports=a},4160:(t,e,n)=>{var i=n(8552),r=n(7071),o=n(3818),s=n(8525),a=n(577),l=n(4239),h=n(346),c="[object Map]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",d="[object DataView]",m=h(i),y=h(r),g=h(o),v=h(s),b=h(a),x=l;(i&&x(new i(new ArrayBuffer(1)))!=d||r&&x(new r)!=c||o&&x(o.resolve())!=u||s&&x(new s)!=f||a&&x(new a)!=p)&&(x=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?h(n):"";if(i)switch(i){case m:return d;case y:return c;case g:return u;case v:return f;case b:return p}return e}),t.exports=x},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,n)=>{var i=n(4536);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},1866:(t,e,n)=>{var i=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,i=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},9148:(t,e,n)=>{var i=n(4318),r=n(7157),o=n(3147),s=n(419),a=n(7133);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return r(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return s(t)}}},8517:(t,e,n)=>{var i=n(3118),r=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(r(t))}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var i=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var i=n(7813),r=n(8612),o=n(5776),s=n(3218);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?r(n)&&o(e,n.length):"string"==a&&e in n)&&i(n[e],t)}},5403:(t,e,n)=>{var i=n(1469),r=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var i,r=n(4429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var i=n(8470),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var i=n(8470);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var i=n(8470);t.exports=function(t){return i(this.__data__,t)>-1}},4705:(t,e,n)=>{var i=n(8470);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},4785:(t,e,n)=>{var i=n(1989),r=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},1285:(t,e,n)=>{var i=n(5050);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var i=n(5050);t.exports=function(t){return i(this,t).get(t)}},9916:(t,e,n)=>{var i=n(5050);t.exports=function(t){return i(this,t).has(t)}},5265:(t,e,n)=>{var i=n(5050);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},4523:(t,e,n)=>{var i=n(8306);t.exports=function(t){var e=i(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var i=n(852)(Object,"create");t.exports=i},6916:(t,e,n)=>{var i=n(5569)(Object.keys,Object);t.exports=i},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var i=n(1957),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,s=o&&o.exports===r&&i.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var i=n(6874),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=r(o.length-e,0),l=Array(a);++s<a;)l[s]=o[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=o[s];return h[e]=n(l),i(t,this,h)}}},5639:(t,e,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},6390:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var i=n(6560),r=n(1275)(i);t.exports=r},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,i=0;return function(){var r=e(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var i=n(8407);t.exports=function(){this.__data__=new i,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var i=n(8407),r=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},5514:(t,e,n)=>{var i=n(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)})),e}));t.exports=s},327:(t,e,n)=>{var i=n(3448);t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},361:(t,e,n)=>{var i=n(5990);t.exports=function(t){return i(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},7361:(t,e,n)=>{var i=n(7786);t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var i=n(9454),r=n(7005),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var i=n(3560),r=n(1780);t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},9246:(t,e,n)=>{var i=n(8612),r=n(7005);t.exports=function(t){return r(t)&&i(t)}},4144:(t,e,n)=>{t=n.nmd(t);var i=n(5639),r=n(5062),o=e&&!e.nodeType&&e,s=o&&t&&!t.nodeType&&t,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;t.exports=l},8446:(t,e,n)=>{var i=n(939);t.exports=function(t,e){return i(t,e)}},3560:(t,e,n)=>{var i=n(4239),r=n(3218);t.exports=function(t){if(!r(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var i=n(5588),r=n(1717),o=n(1167),s=o&&o.isMap,a=s?r(s):i;t.exports=a},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var i=n(4239),r=n(5924),o=n(7005),s=Function.prototype,a=Object.prototype,l=s.toString,h=a.hasOwnProperty,c=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=i(t))return!1;var e=r(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},2928:(t,e,n)=>{var i=n(9221),r=n(1717),o=n(1167),s=o&&o.isSet,a=s?r(s):i;t.exports=a},3448:(t,e,n)=>{var i=n(4239),r=n(7005);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},6719:(t,e,n)=>{var i=n(8749),r=n(1717),o=n(1167),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},3674:(t,e,n)=>{var i=n(4636),r=n(280),o=n(8612);t.exports=function(t){return o(t)?i(t):r(t)}},1704:(t,e,n)=>{var i=n(4636),r=n(313),o=n(8612);t.exports=function(t){return o(t)?i(t,!0):r(t)}},8306:(t,e,n)=>{var i=n(3369);function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,t.exports=r},3857:(t,e,n)=>{var i=n(2980),r=n(1463)((function(t,e,n){i(t,e,n)}));t.exports=r},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},9881:(t,e,n)=>{var i=n(8363),r=n(1704);t.exports=function(t){return i(t,r(t))}},9833:(t,e,n)=>{var i=n(531);t.exports=function(t){return null==t?"":i(t)}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i](o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i={};return(()=>{"use strict";n.d(i,{default:()=>Ci});const t={},e=[];function r(e,n){if(Array.isArray(e))for(const t of e)r(t,n);else if("object"!=typeof e)s(Object.getOwnPropertyNames(n)),t[e]=Object.assign(t[e]||{},n);else for(const t in e)r(t,e[t])}function o(e){return t[e]||{}}function s(t){e.push(...t)}function a(t,e){let n;const i=t.length,r=[];for(n=0;n<i;n++)r.push(e(t[n]));return r}function l(t){return t%360*Math.PI/180}function h(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}function u(t,e,n,i){return null!=e&&null!=n||(i=i||t.bbox(),null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)),{width:e,height:n}}function f(t,e){const n=t.origin;let i=null!=t.ox?t.ox:null!=t.originX?t.originX:"center",r=null!=t.oy?t.oy:null!=t.originY?t.originY:"center";null!=n&&([i,r]=Array.isArray(n)?n:"object"==typeof n?[n.x,n.y]:[n,n]);const o="string"==typeof i,s="string"==typeof r;if(o||s){const{height:t,width:n,x:a,y:l}=e.bbox();o&&(i=i.includes("left")?a:i.includes("right")?a+n:a+n/2),s&&(r=r.includes("top")?l:r.includes("bottom")?l+t:l+t/2)}return[i,r]}const p="http://www.w3.org/2000/svg",d="http://www.w3.org/2000/xmlns/",m="http://www.w3.org/1999/xlink",y={window:"undefined"==typeof window?null:window,document:"undefined"==typeof document?null:document};class g{}const v={},b="___SYMBOL___ROOT___";function x(t,e=p){return y.document.createElementNS(e,t)}function w(t,e=!1){if(t instanceof g)return t;if("object"==typeof t)return k(t);if(null==t)return new v[b];if("string"==typeof t&&"<"!==t.charAt(0))return k(y.document.querySelector(t));const n=e?y.document.createElement("div"):x("svg");return n.innerHTML=t,t=k(n.firstChild),n.removeChild(n.firstChild),t}function C(t,e){return e&&e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node?e:x(t)}function _(t){if(!t)return null;if(t.instance instanceof g)return t.instance;if("#document-fragment"===t.nodeName)return new v.Fragment(t);let e=c(t.nodeName||"Dom");return"LinearGradient"===e||"RadialGradient"===e?e="Gradient":v[e]||(e="Dom"),new v[e](t)}let k=_;function L(t,e=t.name,n=!1){return v[e]=t,n&&(v[b]=t),s(Object.getOwnPropertyNames(t.prototype)),t}let M=1e3;function A(t){return"Svgjs"+c(t)+M++}function O(t){for(let e=t.children.length-1;e>=0;e--)O(t.children[e]);return t.id?(t.id=A(t.nodeName),t):t}function T(t,e){let n,i;for(i=(t=Array.isArray(t)?t:[t]).length-1;i>=0;i--)for(n in e)t[i].prototype[n]=e[n]}function z(t){return function(...e){const n=e[e.length-1];return!n||n.constructor!==Object||n instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(n)}}r("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=w(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=w(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=w(t)).before(this),this},insertAfter:function(t){return(t=w(t)).after(this),this}});const D=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,S=/rgb\((\d+),(\d+),(\d+)\)/,j=/(#[a-z_][a-z0-9\-_]*)/i,E=/\)\s*,?\s*/,P=/\s/g,B=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,I=/^rgb\(/,N=/^(\s+)?$/,q=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,U=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,G=/[\s,]+/,R=/[MLHVCSQTAZ]/i;function V(t){const e=Math.round(t),n=Math.max(0,Math.min(255,e)).toString(16);return 1===n.length?"0"+n:n}function X(t,e){for(let n=e.length;n--;)if(null==t[e[n]])return!1;return!0}function Y(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}r("Dom",{classes:function(){const t=this.attr("class");return null==t?[]:t.trim().split(G)},hasClass:function(t){return-1!==this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!==t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),r("Dom",{css:function(t,e){const n={};if(0===arguments.length)return this.node.style.cssText.split(/\s*;\s*/).filter((function(t){return!!t.length})).forEach((function(t){const e=t.split(/\s*:\s*/);n[e[0]]=e[1]})),n;if(arguments.length<2){if(Array.isArray(t)){for(const e of t){const t=h(e);n[e]=this.node.style[t]}return n}if("string"==typeof t)return this.node.style[h(t)];if("object"==typeof t)for(const e in t)this.node.style[h(e)]=null==t[e]||N.test(t[e])?"":t[e]}return 2===arguments.length&&(this.node.style[h(t)]=null==e||N.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return"none"!==this.css("display")}}),r("Dom",{data:function(t,e,n){if(null==t)return this.data(a(function(t,e){let n;const i=t.length,r=[];for(n=0;n<i;n++)e(t[n])&&r.push(t[n]);return r}(this.node.attributes,(t=>0===t.nodeName.indexOf("data-"))),(t=>t.nodeName.slice(5))));if(t instanceof Array){const e={};for(const n of t)e[n]=this.data(n);return e}if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),r("Dom",{remember:function(t,e){if("object"==typeof arguments[0])for(const e in t)this.remember(e,t[e]);else{if(1===arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0===arguments.length)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class H{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof H||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b}static random(t="vibrant",e,n){const{random:i,round:r,sin:o,PI:s}=Math;if("vibrant"===t){const t=24*i()+57,e=38*i()+45,n=360*i();return new H(t,e,n,"lch")}if("sine"===t){const t=r(80*o(2*s*(e=null==e?i():e)/.5+.01)+150),n=r(50*o(2*s*e/.5+4.6)+200),a=r(100*o(2*s*e/.5+2.3)+150);return new H(t,n,a)}if("pastel"===t){const t=8*i()+86,e=17*i()+9,n=360*i();return new H(t,e,n,"lch")}if("dark"===t){const t=10+10*i(),e=50*i()+86,n=360*i();return new H(t,e,n,"lch")}if("rgb"===t){const t=255*i(),e=255*i(),n=255*i();return new H(t,e,n)}if("lab"===t){const t=100*i(),e=256*i()-128,n=256*i()-128;return new H(t,e,n,"lab")}if("grey"===t){const t=255*i();return new H(t,t,t)}throw new Error("Unsupported random color mode")}static test(t){return"string"==typeof t&&(B.test(t)||I.test(t))}cmyk(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,r,o]=[t,e,n].map((t=>t/255)),s=Math.min(1-i,1-r,1-o);return 1===s?new H(0,0,0,1,"cmyk"):new H((1-i-s)/(1-s),(1-r-s)/(1-s),(1-o-s)/(1-s),s,"cmyk")}hsl(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,r,o]=[t,e,n].map((t=>t/255)),s=Math.max(i,r,o),a=Math.min(i,r,o),l=(s+a)/2,h=s===a,c=s-a;return new H(360*(h?0:s===i?((r-o)/c+(r<o?6:0))/6:s===r?((o-i)/c+2)/6:s===o?((i-r)/c+4)/6:0),100*(h?0:l>.5?c/(2-s-a):c/(s+a)),100*l,"hsl")}init(t=0,e=0,n=0,i=0,r="rgb"){if(t=t||0,this.space)for(const t in this.space)delete this[this.space[t]];if("number"==typeof t)r="string"==typeof i?i:r,i="string"==typeof i?0:i,Object.assign(this,{_a:t,_b:e,_c:n,_d:i,space:r});else if(t instanceof Array)this.space=e||("string"==typeof t[3]?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const n=function(t,e){const n=X(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:X(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:X(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:X(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:X(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:X(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}(t,e);Object.assign(this,n)}else if("string"==typeof t)if(I.test(t)){const e=t.replace(P,""),[n,i,r]=S.exec(e).slice(1,4).map((t=>parseInt(t)));Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}else{if(!B.test(t))throw Error("Unsupported string format, can't construct Color");{const e=t=>parseInt(t,16),[,n,i,r]=F.exec(function(t){return 4===t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}(t)).map(e);Object.assign(this,{_a:n,_b:i,_c:r,_d:0,space:"rgb"})}}const{_a:o,_b:s,_c:a,_d:l}=this,h="rgb"===this.space?{r:o,g:s,b:a}:"xyz"===this.space?{x:o,y:s,z:a}:"hsl"===this.space?{h:o,s,l:a}:"lab"===this.space?{l:o,a:s,b:a}:"lch"===this.space?{l:o,c:s,h:a}:"cmyk"===this.space?{c:o,m:s,y:a,k:l}:{};Object.assign(this,h)}lab(){const{x:t,y:e,z:n}=this.xyz();return new H(116*e-16,500*(t-e),200*(e-n),"lab")}lch(){const{l:t,a:e,b:n}=this.lab(),i=Math.sqrt(e**2+n**2);let r=180*Math.atan2(n,e)/Math.PI;return r<0&&(r*=-1,r=360-r),new H(t,i,r,"lch")}rgb(){if("rgb"===this.space)return this;if("lab"===(t=this.space)||"xyz"===t||"lch"===t){let{x:t,y:e,z:n}=this;if("lab"===this.space||"lch"===this.space){let{l:i,a:r,b:o}=this;if("lch"===this.space){const{c:t,h:e}=this,n=Math.PI/180;r=t*Math.cos(n*e),o=t*Math.sin(n*e)}const s=(i+16)/116,a=r/500+s,l=s-o/200,h=16/116,c=.008856,u=7.787;t=.95047*(a**3>c?a**3:(a-h)/u),e=1*(s**3>c?s**3:(s-h)/u),n=1.08883*(l**3>c?l**3:(l-h)/u)}const i=3.2406*t+-1.5372*e+-.4986*n,r=-.9689*t+1.8758*e+.0415*n,o=.0557*t+-.204*e+1.057*n,s=Math.pow,a=.0031308,l=i>a?1.055*s(i,1/2.4)-.055:12.92*i,h=r>a?1.055*s(r,1/2.4)-.055:12.92*r,c=o>a?1.055*s(o,1/2.4)-.055:12.92*o;return new H(255*l,255*h,255*c)}if("hsl"===this.space){let{h:t,s:e,l:n}=this;if(t/=360,e/=100,n/=100,0===e)return n*=255,new H(n,n,n);const i=n<.5?n*(1+e):n+e-n*e,r=2*n-i,o=255*Y(r,i,t+1/3),s=255*Y(r,i,t),a=255*Y(r,i,t-1/3);return new H(o,s,a)}if("cmyk"===this.space){const{c:t,m:e,y:n,k:i}=this,r=255*(1-Math.min(1,t*(1-i)+i)),o=255*(1-Math.min(1,e*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i));return new H(r,o,s)}return this;var t}toArray(){const{_a:t,_b:e,_c:n,_d:i,space:r}=this;return[t,e,n,i,r]}toHex(){const[t,e,n]=this._clamped().map(V);return`#${t}${e}${n}`}toRgb(){const[t,e,n]=this._clamped();return`rgb(${t},${e},${n})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:e,_c:n}=this.rgb(),[i,r,o]=[t,e,n].map((t=>t/255)),s=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=(.4124*s+.3576*a+.1805*l)/.95047,c=(.2126*s+.7152*a+.0722*l)/1,u=(.0193*s+.1192*a+.9505*l)/1.08883,f=h>.008856?Math.pow(h,1/3):7.787*h+16/116,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116,d=u>.008856?Math.pow(u,1/3):7.787*u+16/116;return new H(f,p,d,"xyz")}_clamped(){const{_a:t,_b:e,_c:n}=this.rgb(),{max:i,min:r,round:o}=Math;return[t,e,n].map((t=>i(0,r(o(t),255))))}}class W{constructor(...t){this.init(...t)}clone(){return new W(this)}init(t,e){const n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:{x:t,y:e};return this.x=null==n.x?0:n.x,this.y=null==n.y?0:n.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){$.isMatrixLike(t)||(t=new $(t));const{x:e,y:n}=this;return this.x=t.a*e+t.c*n+t.e,this.y=t.b*e+t.d*n+t.f,this}}function Q(t,e,n){return Math.abs(e-t)<(n||1e-6)}class ${constructor(...t){this.init(...t)}static formatTransforms(t){const e="both"===t.flip||!0===t.flip,n=t.flip&&(e||"x"===t.flip)?-1:1,i=t.flip&&(e||"y"===t.flip)?-1:1,r=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,s=t.scale&&t.scale.length?t.scale[0]*n:isFinite(t.scale)?t.scale*n:isFinite(t.scaleX)?t.scaleX*n:n,a=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,l=t.shear||0,h=t.rotate||t.theta||0,c=new W(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),u=c.x,f=c.y,p=new W(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),d=p.x,m=p.y,y=new W(t.translate||t.tx||t.translateX,t.ty||t.translateY),g=y.x,v=y.y,b=new W(t.relative||t.rx||t.relativeX,t.ry||t.relativeY);return{scaleX:s,scaleY:a,skewX:r,skewY:o,shear:l,theta:h,rx:b.x,ry:b.y,tx:g,ty:v,ox:u,oy:f,px:d,py:m}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return null!=t.a||null!=t.b||null!=t.c||null!=t.d||null!=t.e||null!=t.f}static matrixMultiply(t,e,n){const i=t.a*e.a+t.c*e.b,r=t.b*e.a+t.d*e.b,o=t.a*e.c+t.c*e.d,s=t.b*e.c+t.d*e.d,a=t.e+t.a*e.e+t.c*e.f,l=t.f+t.b*e.e+t.d*e.f;return n.a=i,n.b=r,n.c=o,n.d=s,n.e=a,n.f=l,n}around(t,e,n){return this.clone().aroundO(t,e,n)}aroundO(t,e,n){const i=t||0,r=e||0;return this.translateO(-i,-r).lmultiplyO(n).translateO(i,r)}clone(){return new $(this)}decompose(t=0,e=0){const n=this.a,i=this.b,r=this.c,o=this.d,s=this.e,a=this.f,l=n*o-i*r,h=l>0?1:-1,c=h*Math.sqrt(n*n+i*i),u=Math.atan2(h*i,h*n),f=180/Math.PI*u,p=Math.cos(u),d=Math.sin(u),m=(n*r+i*o)/l,y=r*c/(m*n-i)||o*c/(m*i+n);return{scaleX:c,scaleY:y,shear:m,rotate:f,translateX:s-t+t*p*c+e*(m*p*c-d*y),translateY:a-e+t*d*c+e*(m*d*c+p*y),originX:t,originY:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const e=new $(t);return Q(this.a,e.a)&&Q(this.b,e.b)&&Q(this.c,e.c)&&Q(this.d,e.d)&&Q(this.e,e.e)&&Q(this.f,e.f)}flip(t,e){return this.clone().flipO(t,e)}flipO(t,e){return"x"===t?this.scaleO(-1,1,e,0):"y"===t?this.scaleO(1,-1,0,e):this.scaleO(-1,-1,t,e||t)}init(t){const e=$.fromArray([1,0,0,1,0,0]);return t=t instanceof xt?t.matrixify():"string"==typeof t?$.fromArray(t.split(G).map(parseFloat)):Array.isArray(t)?$.fromArray(t):"object"==typeof t&&$.isMatrixLike(t)?t:"object"==typeof t?(new $).transform(t):6===arguments.length?$.fromArray([].slice.call(arguments)):e,this.a=null!=t.a?t.a:e.a,this.b=null!=t.b?t.b:e.b,this.c=null!=t.c?t.c:e.c,this.d=null!=t.d?t.d:e.d,this.e=null!=t.e?t.e:e.e,this.f=null!=t.f?t.f:e.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,e=this.b,n=this.c,i=this.d,r=this.e,o=this.f,s=t*i-e*n;if(!s)throw new Error("Cannot invert "+this);const a=i/s,l=-e/s,h=-n/s,c=t/s,u=-(a*r+h*o),f=-(l*r+c*o);return this.a=a,this.b=l,this.c=h,this.d=c,this.e=u,this.f=f,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const e=t instanceof $?t:new $(t);return $.matrixMultiply(e,this,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const e=t instanceof $?t:new $(t);return $.matrixMultiply(this,e,this)}rotate(t,e,n){return this.clone().rotateO(t,e,n)}rotateO(t,e=0,n=0){t=l(t);const i=Math.cos(t),r=Math.sin(t),{a:o,b:s,c:a,d:h,e:c,f:u}=this;return this.a=o*i-s*r,this.b=s*i+o*r,this.c=a*i-h*r,this.d=h*i+a*r,this.e=c*i-u*r+n*r-e*i+e,this.f=u*i+c*r-e*r-n*i+n,this}scale(t,e,n,i){return this.clone().scaleO(...arguments)}scaleO(t,e=t,n=0,i=0){3===arguments.length&&(i=n,n=e,e=t);const{a:r,b:o,c:s,d:a,e:l,f:h}=this;return this.a=r*t,this.b=o*e,this.c=s*t,this.d=a*e,this.e=l*t-n*t+n,this.f=h*e-i*e+i,this}shear(t,e,n){return this.clone().shearO(t,e,n)}shearO(t,e=0,n=0){const{a:i,b:r,c:o,d:s,e:a,f:l}=this;return this.a=i+r*t,this.c=o+s*t,this.e=a+l*t-n*t,this}skew(t,e,n,i){return this.clone().skewO(...arguments)}skewO(t,e=t,n=0,i=0){3===arguments.length&&(i=n,n=e,e=t),t=l(t),e=l(e);const r=Math.tan(t),o=Math.tan(e),{a:s,b:a,c:h,d:c,e:u,f}=this;return this.a=s+a*r,this.b=a+s*o,this.c=h+c*r,this.d=c+h*o,this.e=u+f*r-i*r,this.f=f+u*o-n*o,this}skewX(t,e,n){return this.skew(t,0,e,n)}skewY(t,e,n){return this.skew(0,t,e,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if($.isMatrixLike(t))return new $(t).multiplyO(this);const e=$.formatTransforms(t),{x:n,y:i}=new W(e.ox,e.oy).transform(this),r=(new $).translateO(e.rx,e.ry).lmultiplyO(this).translateO(-n,-i).scaleO(e.scaleX,e.scaleY).skewO(e.skewX,e.skewY).shearO(e.shear).rotateO(e.theta).translateO(n,i);if(isFinite(e.px)||isFinite(e.py)){const t=new W(n,i).transform(r),o=isFinite(e.px)?e.px-t.x:0,s=isFinite(e.py)?e.py-t.y:0;r.translateO(o,s)}return r.translateO(e.tx,e.ty),r}translate(t,e){return this.clone().translateO(t,e)}translateO(t,e){return this.e+=t||0,this.f+=e||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Z(){if(!Z.nodes){const t=w().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;Z.nodes={svg:t,path:e}}if(!Z.nodes.svg.node.parentNode){const t=y.document.body||y.document.documentElement;Z.nodes.svg.addTo(t)}return Z.nodes}function J(t){return!(t.width||t.height||t.x||t.y)}L($,"Matrix");class K{constructor(...t){this.init(...t)}addOffset(){return this.x+=y.window.pageXOffset,this.y+=y.window.pageYOffset,new K(this)}init(t){return t="string"==typeof t?t.split(G).map(parseFloat):Array.isArray(t)?t:"object"==typeof t?[null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height]:4===arguments.length?[].slice.call(arguments):[0,0,0,0],this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return J(this)}merge(t){const e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-e,r=Math.max(this.y+this.height,t.y+t.height)-n;return new K(e,n,i,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof $||(t=new $(t));let e=1/0,n=-1/0,i=1/0,r=-1/0;return[new W(this.x,this.y),new W(this.x2,this.y),new W(this.x,this.y2),new W(this.x2,this.y2)].forEach((function(o){o=o.transform(t),e=Math.min(e,o.x),n=Math.max(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y)})),new K(e,i,n-e,r-i)}}function tt(t,e,n){let i;try{if(i=e(t.node),J(i)&&(r=t.node)!==y.document&&!(y.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===y.document}).call(y.document.documentElement,r))throw new Error("Element not in the dom")}catch(e){i=n(t)}var r;return i}r({viewbox:{viewbox(t,e,n,i){return null==t?new K(this.attr("viewBox")):this.attr("viewBox",new K(t,e,n,i))},zoom(t,e){let{width:n,height:i}=this.attr(["width","height"]);if((n||i)&&"string"!=typeof n&&"string"!=typeof i||(n=this.node.clientWidth,i=this.node.clientHeight),!n||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),o=n/r.width,s=i/r.height,a=Math.min(o,s);if(null==t)return a;let l=a/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new W(n/2/o+r.x,i/2/s+r.y);const h=new K(r).transform(new $({scale:l,origin:e}));return this.viewbox(h)}}}),L(K,"Box");class et extends Array{constructor(t=[],...e){if(super(t,...e),"number"==typeof t)return this;this.length=0,this.push(...t)}}T([et],{each(t,...e){return"function"==typeof t?this.map(((e,n,i)=>t.call(e,e,n,i))):this.map((n=>n[t](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const nt=["toArray","constructor","each"];function it(t,e){return new et(a((e||y.document).querySelectorAll(t),(function(t){return _(t)})))}et.extend=function(t){t=t.reduce(((t,e)=>(nt.includes(e)||"_"===e[0]||(t[e]=function(...t){return this.each(e,...t)}),t)),{}),T([et],t)};let rt=0;const ot={};function st(t){let e=t.getEventHolder();return e===y.window&&(e=ot),e.events||(e.events={}),e.events}function at(t){return t.getEventTarget()}function lt(t,e,n,i,r){const o=n.bind(i||t),s=w(t),a=st(s),l=at(s);e=Array.isArray(e)?e:e.split(G),n._svgjsListenerId||(n._svgjsListenerId=++rt),e.forEach((function(t){const e=t.split(".")[0],i=t.split(".")[1]||"*";a[e]=a[e]||{},a[e][i]=a[e][i]||{},a[e][i][n._svgjsListenerId]=o,l.addEventListener(e,o,r||!1)}))}function ht(t,e,n,i){const r=w(t),o=st(r),s=at(r);("function"!=typeof n||(n=n._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(G)).forEach((function(t){const e=t&&t.split(".")[0],a=t&&t.split(".")[1];let l,h;if(n)o[e]&&o[e][a||"*"]&&(s.removeEventListener(e,o[e][a||"*"][n],i||!1),delete o[e][a||"*"][n]);else if(e&&a){if(o[e]&&o[e][a]){for(h in o[e][a])ht(s,[e,a].join("."),h);delete o[e][a]}}else if(a)for(t in o)for(l in o[t])a===l&&ht(s,[t,a].join("."));else if(e){if(o[e]){for(l in o[e])ht(s,[e,l].join("."));delete o[e]}}else{for(t in o)ht(s,t);!function(t){let e=t.getEventHolder();e===y.window&&(e=ot),e.events&&(e.events={})}(r)}}))}class ct extends g{addEventListener(){}dispatch(t,e,n){return function(t,e,n,i){const r=at(t);return e instanceof y.window.Event||(e=new y.window.CustomEvent(e,{detail:n,cancelable:!0,...i})),r.dispatchEvent(e),e}(this,t,e,n)}dispatchEvent(t){const e=this.getEventHolder().events;if(!e)return!0;const n=e[t.type];for(const e in n)for(const i in n[e])n[e][i](t);return!t.defaultPrevented}fire(t,e,n){return this.dispatch(t,e,n),this}getEventHolder(){return this}getEventTarget(){return this}off(t,e,n){return ht(this,t,e,n),this}on(t,e,n,i){return lt(this,t,e,n,i),this}removeEventListener(){}}function ut(){}L(ct,"EventTarget");const ft=400,pt=">",dt=0,mt={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class yt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return"number"==typeof t||(this.length=0,this.push(...this.parse(t))),this}parse(t=[]){return t instanceof Array?t:t.trim().split(G).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class gt{constructor(...t){this.init(...t)}convert(t){return new gt(this.value,t)}divide(t){return t=new gt(t),new gt(this/t,this.unit||t.unit)}init(t,e){return e=Array.isArray(t)?t[1]:e,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(D))&&(this.value=parseFloat(e[1]),"%"===e[5]?this.value/=100:"s"===e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof gt&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new gt(t),new gt(this-t,this.unit||t.unit)}plus(t){return t=new gt(t),new gt(this+t,this.unit||t.unit)}times(t){return t=new gt(t),new gt(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return("%"===this.unit?~~(1e8*this.value)/1e6:"s"===this.unit?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const vt=[];class bt extends ct{constructor(t,e){super(),this.node=t,this.type=t.nodeName,e&&t!==e&&this.attr(e)}add(t,e){return(t=w(t)).removeNamespace&&this.node instanceof y.window.SVGElement&&t.removeNamespace(),null==e?this.node.appendChild(t.node):t.node!==this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this}addTo(t,e){return w(t).put(this,e)}children(){return new et(a(this.node.children,(function(t){return _(t)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,e=!0){this.writeDataToDom();let n=this.node.cloneNode(t);return e&&(n=O(n)),new this.constructor(n)}each(t,e){const n=this.children();let i,r;for(i=0,r=n.length;i<r;i++)t.apply(n[i],[i,n]),e&&n[i].each(t,e);return this}element(t,e){return this.put(new bt(x(t),e))}first(){return _(this.node.firstChild)}get(t){return _(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,e){return this.xml(t,e,"http://www.w3.org/1999/xhtml")}id(t){return void 0!==t||this.node.id||(this.node.id=A(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return _(this.node.lastChild)}matches(t){const e=this.node,n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}parent(t){let e=this;if(!e.node.parentNode)return null;if(e=_(e.node.parentNode),!t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=_(e.node.parentNode));return e}put(t,e){return t=w(t),this.add(t,e),t}putIn(t,e){return w(t).add(this,e)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=w(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,e=null){const n=10**t,i=this.attr(e);for(const t in i)"number"==typeof i[t]&&(i[t]=Math.round(i[t]*n)/n);return this.attr(i),this}svg(t,e){return this.xml(t,e,p)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const e=this.parent();if(!e)return this.addTo(t);const n=e.index(this);return e.put(t,n).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){e=null==e||e,this.writeDataToDom();let n=this;if(null!=t){if(n=_(n.node.cloneNode(!0)),e){const e=t(n);if(n=e||n,!1===e)return""}n.each((function(){const e=t(this),n=e||this;!1===e?this.remove():e&&this!==n&&this.replace(n)}),!0)}return e?n.node.outerHTML:n.node.innerHTML}e=null!=e&&e;const i=x("wrapper",n),r=y.document.createDocumentFragment();i.innerHTML=t;for(let t=i.children.length;t--;)r.appendChild(i.firstElementChild);const o=this.parent();return e?this.replace(r)&&o:this.add(r)}}T(bt,{attr:function(t,e,n){if(null==t){t={},e=this.node.attributes;for(const n of e)t[n.nodeName]=q.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return t}if(t instanceof Array)return t.reduce(((t,e)=>(t[e]=this.attr(e),t)),{});if("object"==typeof t&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?mt[t]:q.test(e)?parseFloat(e):e;"number"==typeof(e=vt.reduce(((e,n)=>n(t,e,this)),e))?e=new gt(e):H.isColor(e)?e=new H(e):e.constructor===Array&&(e=new yt(e)),"leading"===t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!==t&&"x"!==t||this.rebuild()}return this},find:function(t){return it(t,this.node)},findOne:function(t){return _(this.node.querySelector(t))}}),L(bt,"Dom");class xt extends bt{constructor(t,e){super(t,e),this.dom={},this.node.instance=this,t.hasAttribute("svgjs:data")&&this.setData(JSON.parse(t.getAttribute("svgjs:data"))||{})}center(t,e){return this.cx(t).cy(e)}cx(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,e){return this.dx(t).dy(e)}dx(t=0){return this.x(new gt(t).plus(this.x()))}dy(t=0){return this.y(new gt(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,e){return this.x(t).y(e)}parents(t=this.root()){const e="string"==typeof t;e||(t=w(t));const n=new et;let i=this;for(;(i=i.parent())&&i.node!==y.document&&"#document-fragment"!==i.nodeName&&(n.push(i),e||i.node!==t.node)&&(!e||!i.matches(t));)if(i.node===this.root().node)return null;return n}reference(t){if(!(t=this.attr(t)))return null;const e=(t+"").match(j);return e?w(e[1]):null}root(){const t=this.parent(v[b]);return t&&t.root()}setData(t){return this.dom=t,this}size(t,e){const n=u(this,t,e);return this.width(new gt(n.width)).height(new gt(n.height))}width(t){return this.attr("width",t)}writeDataToDom(){return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}}T(xt,{bbox:function(){const t=tt(this,(t=>t.getBBox()),(t=>{try{const e=t.clone().addTo(Z().svg).show(),n=e.node.getBBox();return e.remove(),n}catch(e){throw new Error(`Getting bbox of element "${t.node.nodeName}" is not possible: ${e.toString()}`)}}));return new K(t)},rbox:function(t){const e=tt(this,(t=>t.getBoundingClientRect()),(t=>{throw new Error(`Getting rbox of element "${t.node.nodeName}" is not possible`)})),n=new K(e);return t?n.transform(t.screenCTM().inverseO()):n.addOffset()},inside:function(t,e){const n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},point:function(t,e){return new W(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new $(this.node.getCTM())},screenCTM:function(){if("function"==typeof this.isRoot&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new $(e)}return new $(this.node.getScreenCTM())}}),L(xt,"Element");const wt={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"===e?t:t+"-"+e}};["fill","stroke"].forEach((function(t){const e={};let n;e[t]=function(e){if(void 0===e)return this.attr(t);if("string"==typeof e||e instanceof H||H.isRgb(e)||e instanceof xt)this.attr(t,e);else for(n=wt[t].length-1;n>=0;n--)null!=e[wt[t][n]]&&this.attr(wt.prefix(t,wt[t][n]),e[wt[t][n]]);return this},r(["Element","Runner"],e)})),r(["Element","Runner"],{matrix:function(t,e,n,i,r,o){return null==t?new $(this):this.attr("transform",new $(t,e,n,i,r,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,i){return 1===arguments.length||3===arguments.length?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:i},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,i){return 1===arguments.length||3===arguments.length?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:i},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return-1==="xybothtrue".indexOf(t)&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),r("radius",{radius:function(t,e=t){return"radialGradient"===(this._element||this).type?this.attr("r",new gt(t)):this.rx(t).ry(e)}}),r("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new W(this.node.getPointAtLength(t))}}),r(["Element","Runner"],{font:function(t,e){if("object"==typeof t){for(e in t)this.font(e,t[e]);return this}return"leading"===t?this.leading(e):"anchor"===t?this.attr("text-anchor",e):"size"===t||"family"===t||"weight"===t||"stretch"===t||"variant"===t||"style"===t?this.attr("font-"+t,e):this.attr(t,e)}}),r("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].reduce((function(t,e){return t[e]=function(t){return null===t?this.off(e):this.on(e,t),this},t}),{})),r("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(E).slice(0,-1).map((function(t){const e=t.trim().split("(");return[e[0],e[1].split(G).map((function(t){return parseFloat(t)}))]})).reverse().reduce((function(t,e){return"matrix"===e[0]?t.lmultiply($.fromArray(e[1])):t[e[0]].apply(t,e[1])}),new $)},toParent:function(t,e){if(this===t)return this;const n=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(i.multiply(n)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(null==t||"string"==typeof t){const e=new $(this).decompose();return null==t?e:e[t]}$.isMatrixLike(t)||(t={...t,origin:f(t,this)});const n=new $(!0===e?this:e||!1).transform(t);return this.attr("transform",n)}});class Ct extends xt{flatten(t=this,e){return this.each((function(){if(this instanceof Ct)return this.flatten().ungroup()})),this}ungroup(t=this.parent(),e=t.index(this)){return e=-1===e?t.children().length:e,this.each((function(n,i){return i[i.length-n-1].toParent(t,e)})),this.remove()}}L(Ct,"Container");class _t extends Ct{constructor(t,e=t){super(C("defs",t),e)}flatten(){return this}ungroup(){return this}}L(_t,"Defs");class kt extends xt{}function Lt(t){return this.attr("rx",t)}function Mt(t){return this.attr("ry",t)}function At(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())}function Ot(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())}function Tt(t){return this.attr("cx",t)}function zt(t){return this.attr("cy",t)}function Dt(t){return null==t?2*this.rx():this.rx(new gt(t).divide(2))}function Ft(t){return null==t?2*this.ry():this.ry(new gt(t).divide(2))}L(kt,"Shape");var St={__proto__:null,rx:Lt,ry:Mt,x:At,y:Ot,cx:Tt,cy:zt,width:Dt,height:Ft};class jt extends kt{constructor(t,e=t){super(C("ellipse",t),e)}size(t,e){const n=u(this,t,e);return this.rx(new gt(n.width).divide(2)).ry(new gt(n.height).divide(2))}}T(jt,St),r("Container",{ellipse:z((function(t=0,e=t){return this.put(new jt).size(t,e).move(0,0)}))}),L(jt,"Ellipse");class Et extends bt{constructor(t=y.document.createDocumentFragment()){super(t)}xml(t,e,n){if("boolean"==typeof t&&(n=e,e=t,t=null),null==t||"function"==typeof t){const t=new bt(x("wrapper",n));return t.add(this.node.cloneNode(!0)),t.xml(!1,n)}return super.xml(t,!1,n)}}function Pt(t,e){return"radialGradient"===(this._element||this).type?this.attr({fx:new gt(t),fy:new gt(e)}):this.attr({x1:new gt(t),y1:new gt(e)})}function Bt(t,e){return"radialGradient"===(this._element||this).type?this.attr({cx:new gt(t),cy:new gt(e)}):this.attr({x2:new gt(t),y2:new gt(e)})}L(Et,"Fragment");var It,Nt={__proto__:null,from:Pt,to:Bt};class qt extends Ct{constructor(t,e){super(C(t+"Gradient","string"==typeof t?null:t),e)}attr(t,e,n){return"transform"===t&&(t="gradientTransform"),super.attr(t,e,n)}bbox(){return new K}targets(){return it("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}T(qt,Nt),r({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:z((function(t,e){return this.put(new qt(t)).update(e)}))}}),L(qt,"Gradient");class Ut extends Ct{constructor(t,e=t){super(C("pattern",t),e)}attr(t,e,n){return"transform"===t&&(t="patternTransform"),super.attr(t,e,n)}bbox(){return new K}targets(){return it("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}r({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:z((function(t,e,n){return this.put(new Ut).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}))}}),L(Ut,"Pattern");class Gt extends kt{constructor(t,e=t){super(C("image",t),e)}load(t,e){if(!t)return this;const n=new y.window.Image;return lt(n,"load",(function(t){const i=this.parent(Ut);0===this.width()&&0===this.height()&&this.size(n.width,n.height),i instanceof Ut&&0===i.width()&&0===i.height()&&i.size(this.width(),this.height()),"function"==typeof e&&e.call(this,t)}),this),lt(n,"load error",(function(){ht(n)})),this.attr("href",n.src=t,m)}}It=function(t,e,n){return"fill"!==t&&"stroke"!==t||U.test(e)&&(e=n.root().defs().image(e)),e instanceof Gt&&(e=n.root().defs().pattern(0,0,(t=>{t.add(e)}))),e},vt.push(It),r({Container:{image:z((function(t,e){return this.put(new Gt).size(0,0).load(t,e)}))}}),L(Gt,"Image");class Rt extends yt{bbox(){let t=-1/0,e=-1/0,n=1/0,i=1/0;return this.forEach((function(r){t=Math.max(r[0],t),e=Math.max(r[1],e),n=Math.min(r[0],n),i=Math.min(r[1],i)})),new K(n,i,t-n,e-i)}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+t,this[n][1]+e];return this}parse(t=[0,0]){const e=[];(t=t instanceof Array?Array.prototype.concat.apply([],t):t.trim().split(G).map(parseFloat)).length%2!=0&&t.pop();for(let n=0,i=t.length;n<i;n+=2)e.push([t[n],t[n+1]]);return e}size(t,e){let n;const i=this.bbox();for(n=this.length-1;n>=0;n--)i.width&&(this[n][0]=(this[n][0]-i.x)*t/i.width+i.x),i.height&&(this[n][1]=(this[n][1]-i.y)*e/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let e=0,n=this.length;e<n;e++)t.push(this[e].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){$.isMatrixLike(t)||(t=new $(t));for(let e=this.length;e--;){const[n,i]=this[e];this[e][0]=t.a*n+t.c*i+t.e,this[e][1]=t.b*n+t.d*i+t.f}return this}}var Vt={__proto__:null,MorphArray:Rt,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){const e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){const e=this.bbox();return null==t?e.height:this.size(e.width,t)}};class Xt extends kt{constructor(t,e=t){super(C("line",t),e)}array(){return new Rt([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,n,i){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:i}:new Rt(t).toLine(),this.attr(t))}size(t,e){const n=u(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}}T(Xt,Vt),r({Container:{line:z((function(...t){return Xt.prototype.plot.apply(this.put(new Xt),null!=t[0]?t:[0,0,0,0])}))}}),L(Xt,"Line");class Yt extends Ct{constructor(t,e=t){super(C("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),"function"==typeof t&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}function Ht(t,e){return function(n){return null==n?this[t]:(this[t]=n,e&&e.call(this),this)}}r({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:z((function(t,e,n){return this.put(new Yt).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}))},marker:{marker(t,e,n,i){let r=["marker"];return"all"!==t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof Yt?arguments[1]:this.defs().marker(e,n,i),this.attr(r,t)}}}),L(Yt,"Marker");const Wt={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,n,i){return function(r){return r<0?t>0?e/t*r:n>0?i/n*r:0:r>1?n<1?(1-i)/(1-n)*r+(i-n)/(1-n):t<1?(1-e)/(1-t)*r+(e-t)/(1-t):1:3*r*(1-r)**2*e+3*r**2*(1-r)*i+r**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return"none"===e?--n:"both"===e&&++n,(i,r=!1)=>{let o=Math.floor(i*t);const s=i*o%1==0;return"start"!==e&&"both"!==e||++o,r&&s&&--o,i>=0&&o<0&&(o=0),i<=1&&o>n&&(o=n),o/n}}};class Qt{done(){return!1}}class $t extends Qt{constructor(t=pt){super(),this.ease=Wt[t]||t}step(t,e,n){return"number"!=typeof t?n<1?t:e:t+(e-t)*this.ease(n)}}class Zt extends Qt{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,e,n,i){return this.stepper(t,e,n,i)}}function Jt(){const t=(this._duration||500)/1e3,e=this._overshoot||0,n=Math.PI,i=Math.log(e/100+1e-10),r=-i/Math.sqrt(n*n+i*i),o=3.9/(r*t);this.d=2*r*o,this.k=o*o}T(class extends Zt{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,n,i){if("string"==typeof t)return t;if(i.done=n===1/0,n===1/0)return e;if(0===n)return t;n>100&&(n=16),n/=1e3;const r=i.velocity||0,o=-this.d*r-this.k*(t-e),s=t+r*n+o*n*n/2;return i.velocity=r+o*n,i.done=Math.abs(e-s)+Math.abs(r)<.002,i.done?e:s}},{duration:Ht("_duration",Jt),overshoot:Ht("_overshoot",Jt)}),T(class extends Zt{constructor(t=.1,e=.01,n=0,i=1e3){super(),this.p(t).i(e).d(n).windup(i)}step(t,e,n,i){if("string"==typeof t)return t;if(i.done=n===1/0,n===1/0)return e;if(0===n)return t;const r=e-t;let o=(i.integral||0)+r*n;const s=(r-(i.error||0))/n,a=this._windup;return!1!==a&&(o=Math.max(-a,Math.min(o,a))),i.error=r,i.integral=o,i.done=Math.abs(r)<.001,i.done?e:t+(this.P*r+this.I*o+this.D*s)}},{windup:Ht("_windup"),p:Ht("P"),i:Ht("I"),d:Ht("D")});const Kt={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},te={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},ee="mlhvqtcsaz".split("");for(let t=0,e=ee.length;t<e;++t)te[ee[t]]=function(t){return function(e,n,i){if("H"===t)e[0]=e[0]+n.x;else if("V"===t)e[0]=e[0]+n.y;else if("A"===t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(let t=0,i=e.length;t<i;++t)e[t]=e[t]+(t%2?n.y:n.x);return te[t](e,n,i)}}(ee[t].toUpperCase());function ne(t){return t.segment.length&&t.segment.length-1===Kt[t.segment[0].toUpperCase()]}function ie(t,e){t.inNumber&&re(t,!1);const n=R.test(e);if(n)t.segment=[e];else{const e=t.lastCommand,n=e.toLowerCase(),i=e===n;t.segment=["m"===n?i?"l":"L":e]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function re(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,ne(t)&&oe(t)}function oe(t){t.inSegment=!1,t.absolute&&(t.segment=function(t){const e=t.segment[0];return te[e](t.segment.slice(1),t.p,t.p0)}(t)),t.segments.push(t.segment)}function se(t){if(!t.segment.length)return!1;const e="A"===t.segment[0].toUpperCase(),n=t.segment.length;return e&&(4===n||5===n)}function ae(t){return"E"===t.lastToken.toUpperCase()}class le extends yt{bbox(){return Z().path.setAttribute("d",this.toString()),new K(Z.nodes.path.getBBox())}move(t,e){const n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(let n,i=this.length-1;i>=0;i--)n=this[i][0],"M"===n||"L"===n||"T"===n?(this[i][1]+=t,this[i][2]+=e):"H"===n?this[i][1]+=t:"V"===n?this[i][1]+=e:"C"===n||"S"===n||"Q"===n?(this[i][1]+=t,this[i][2]+=e,this[i][3]+=t,this[i][4]+=e,"C"===n&&(this[i][5]+=t,this[i][6]+=e)):"A"===n&&(this[i][6]+=t,this[i][7]+=e);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),function(t,e=!0){let n=0,i="";const r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new W,p:new W};for(;r.lastToken=i,i=t.charAt(n++);)if(r.inSegment||!ie(r,i))if("."!==i)if(isNaN(parseInt(i)))if(" "!==i&&","!==i)if("-"!==i)if("E"!==i.toUpperCase()){if(R.test(i)){if(r.inNumber)re(r,!1);else{if(!ne(r))throw new Error("parser Error");oe(r)}--n}}else r.number+=i,r.hasExponent=!0;else{if(r.inNumber&&!ae(r)){re(r,!1),--n;continue}r.number+=i,r.inNumber=!0}else r.inNumber&&re(r,!1);else{if("0"===r.number||se(r)){r.inNumber=!0,r.number=i,re(r,!0);continue}r.inNumber=!0,r.number+=i}else{if(r.pointSeen||r.hasExponent){re(r,!1),--n;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=i}return r.inNumber&&re(r,!1),r.inSegment&&ne(r)&&oe(r),r.segments}(t)}size(t,e){const n=this.bbox();let i,r;for(n.width=0===n.width?1:n.width,n.height=0===n.height?1:n.height,i=this.length-1;i>=0;i--)r=this[i][0],"M"===r||"L"===r||"T"===r?(this[i][1]=(this[i][1]-n.x)*t/n.width+n.x,this[i][2]=(this[i][2]-n.y)*e/n.height+n.y):"H"===r?this[i][1]=(this[i][1]-n.x)*t/n.width+n.x:"V"===r?this[i][1]=(this[i][1]-n.y)*e/n.height+n.y:"C"===r||"S"===r||"Q"===r?(this[i][1]=(this[i][1]-n.x)*t/n.width+n.x,this[i][2]=(this[i][2]-n.y)*e/n.height+n.y,this[i][3]=(this[i][3]-n.x)*t/n.width+n.x,this[i][4]=(this[i][4]-n.y)*e/n.height+n.y,"C"===r&&(this[i][5]=(this[i][5]-n.x)*t/n.width+n.x,this[i][6]=(this[i][6]-n.y)*e/n.height+n.y)):"A"===r&&(this[i][1]=this[i][1]*t/n.width,this[i][2]=this[i][2]*e/n.height,this[i][6]=(this[i][6]-n.x)*t/n.width+n.x,this[i][7]=(this[i][7]-n.y)*e/n.height+n.y);return this}toString(){return function(t){let e="";for(let n=0,i=t.length;n<i;n++)e+=t[n][0],null!=t[n][1]&&(e+=t[n][1],null!=t[n][2]&&(e+=" ",e+=t[n][2],null!=t[n][3]&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],null!=t[n][5]&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],null!=t[n][7]&&(e+=" ",e+=t[n][7])))));return e+" "}(this)}}const he=t=>{const e=typeof t;return"number"===e?gt:"string"===e?H.isColor(t)?H:G.test(t)?R.test(t)?le:yt:D.test(t)?gt:ue:me.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?yt:"object"===e?de:ue};class ce{constructor(t){this._stepper=t||new $t("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(t,e){return t&&e}),!0)}from(t){return null==t?this._from:(this._from=this._set(t),this)}stepper(t){return null==t?this._stepper:(this._stepper=t,this)}to(t){return null==t?this._to:(this._to=this._set(t),this)}type(t){return null==t?this._type:(this._type=t,this)}_set(t){this._type||this.type(he(t));let e=new this._type(t);return this._type===H&&(e=this._to?e[this._to[4]]():this._from?e[this._from[4]]():e),this._type===de&&(e=this._to?e.align(this._to):this._from?e.align(this._from):e),e=e.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(e.length)).map(Object).map((function(t){return t.done=!0,t})),e}}class ue{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class fe{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,fe.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}fe.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const pe=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class de{constructor(...t){this.init(...t)}align(t){const e=this.values;for(let n=0,i=e.length;n<i;++n){if(e[n+1]===t[n+1]){if(e[n+1]===H&&t[n+7]!==e[n+7]){const e=t[n+7],i=new H(this.values.splice(n+3,5))[e]().toArray();this.values.splice(n+3,0,...i)}n+=e[n+2]+2;continue}if(!t[n+1])return this;const i=(new t[n+1]).toArray(),r=e[n+2]+3;e.splice(n,r,t[n],t[n+1],t[n+2],...i),n+=e[n+2]+2}return this}init(t){if(this.values=[],Array.isArray(t))return void(this.values=t.slice());t=t||{};const e=[];for(const n in t){const i=he(t[n]),r=new i(t[n]).toArray();e.push([n,i,r.length,...r])}return e.sort(pe),this.values=e.reduce(((t,e)=>t.concat(e)),[]),this}toArray(){return this.values}valueOf(){const t={},e=this.values;for(;e.length;){const n=e.shift(),i=e.shift(),r=e.shift(),o=e.splice(0,r);t[n]=new i(o)}return t}}const me=[ue,fe,de];class ye extends kt{constructor(t,e=t){super(C("path",t),e)}array(){return this._array||(this._array=new le(this.attr("d")))}clear(){return delete this._array,this}height(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}move(t,e){return this.attr("d",this.array().move(t,e))}plot(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new le(t))}size(t,e){const n=u(this,t,e);return this.attr("d",this.array().size(n.width,n.height))}width(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)}x(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)}y(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)}}ye.prototype.MorphArray=le,r({Container:{path:z((function(t){return this.put(new ye).plot(t||new le)}))}}),L(ye,"Path");var ge={__proto__:null,array:function(){return this._array||(this._array=new Rt(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new Rt(t))},size:function(t,e){const n=u(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}};class ve extends kt{constructor(t,e=t){super(C("polygon",t),e)}}r({Container:{polygon:z((function(t){return this.put(new ve).plot(t||new Rt)}))}}),T(ve,Vt),T(ve,ge),L(ve,"Polygon");class be extends kt{constructor(t,e=t){super(C("polyline",t),e)}}r({Container:{polyline:z((function(t){return this.put(new be).plot(t||new Rt)}))}}),T(be,Vt),T(be,ge),L(be,"Polyline");class xe extends kt{constructor(t,e=t){super(C("rect",t),e)}}T(xe,{rx:Lt,ry:Mt}),r({Container:{rect:z((function(t,e){return this.put(new xe).size(t,e)}))}}),L(xe,"Rect");class we{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const e=void 0!==t.next?t:{value:t,next:null,prev:null};return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._last=e,this._first=e),e}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const Ce={nextDraw:null,frames:new we,timeouts:new we,immediates:new we,timer:()=>y.window.performance||y.window.Date,transforms:[],frame(t){const e=Ce.frames.push({run:t});return null===Ce.nextDraw&&(Ce.nextDraw=y.window.requestAnimationFrame(Ce._draw)),e},timeout(t,e){e=e||0;const n=Ce.timer().now()+e,i=Ce.timeouts.push({run:t,time:n});return null===Ce.nextDraw&&(Ce.nextDraw=y.window.requestAnimationFrame(Ce._draw)),i},immediate(t){const e=Ce.immediates.push(t);return null===Ce.nextDraw&&(Ce.nextDraw=y.window.requestAnimationFrame(Ce._draw)),e},cancelFrame(t){null!=t&&Ce.frames.remove(t)},clearTimeout(t){null!=t&&Ce.timeouts.remove(t)},cancelImmediate(t){null!=t&&Ce.immediates.remove(t)},_draw(t){let e=null;const n=Ce.timeouts.last();for(;(e=Ce.timeouts.shift())&&(t>=e.time?e.run():Ce.timeouts.push(e),e!==n););let i=null;const r=Ce.frames.last();for(;i!==r&&(i=Ce.frames.shift());)i.run(t);let o=null;for(;o=Ce.immediates.shift();)o();Ce.nextDraw=Ce.timeouts.first()||Ce.frames.first()?y.window.requestAnimationFrame(Ce._draw):null}},_e=function(t){const e=t.start,n=t.runner.duration();return{start:e,duration:n,end:e+n,runner:t.runner}},ke=function(){const t=y.window;return(t.performance||t.Date).now()};class Le extends ct{constructor(t=ke){super(),this._timeSource=t,this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),e=t?t.runner.duration():0;return(t?t.start:this._time)+e}getEndTimeOfTimeline(){const t=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return null==t?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const e=this.speed();if(null==t)return this.speed(-e);const n=Math.abs(e);return this.speed(t?-n:n)}schedule(t,e,n){if(null==t)return this._runners.map(_e);let i=0;const r=this.getEndTime();if(e=e||0,null==n||"last"===n||"after"===n)i=r;else if("absolute"===n||"start"===n)i=e,e=0;else if("now"===n)i=this._time;else if("relative"===n){const n=this.getRunnerInfoById(t.id);n&&(i=n.start+e,e=0)}else{if("with-last"!==n)throw new Error('Invalid value for the "when" parameter');{const t=this.getLastRunnerInfo();i=t?t.start:this._time}}t.unschedule(),t.timeline(this);const o=t.persist(),s={persist:null===o?this._persist:o,start:i+e,runner:t};return this._lastRunnerId=t.id,this._runners.push(s),this._runners.sort(((t,e)=>t.start-e.start)),this._runnerIds=this._runners.map((t=>t.runner.id)),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return null==t?this._timeSource:(this._timeSource=t,this)}speed(t){return null==t?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return null==t?this._time:(this._time=t,this._continue(!0))}unschedule(t){const e=this._runnerIds.indexOf(t.id);return e<0||(this._runners.splice(e,1),this._runnerIds.splice(e,1),t.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return Ce.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():(this._paused||(this._nextFrame=Ce.frame(this._step)),this)}_stepFn(t=!1){const e=this._timeSource();let n=e-this._lastSourceTime;t&&(n=0);const i=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=e,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let t=this._runners.length;t--;){const e=this._runners[t],n=e.runner;this._time-e.start<=0&&n.reset()}let r=!1;for(let t=0,e=this._runners.length;t<e;t++){const n=this._runners[t],o=n.runner;let s=i;const a=this._time-n.start;a<=0?r=!0:(a<s&&(s=a),o.active()&&(o.step(s).done?!0!==n.persist&&o.duration()-o.time()+this._time+n.persist<this._time&&(o.unschedule(),--t,--e):r=!0))}return r&&!(this._speed<0&&0===this._time)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}}r({Element:{timeline:function(t){return null==t?(this._timeline=this._timeline||new Le,this._timeline):(this._timeline=t,this)}}});class Me extends ct{constructor(t){super(),this.id=Me.id++,t="function"==typeof(t=null==t?ft:t)?new Zt(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration="number"==typeof t&&t,this._isDeclarative=t instanceof Zt,this._stepper=this._isDeclarative?t:new $t,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new $,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(t,e,n){let i=1,r=!1,o=0;return e=e||dt,n=n||"last","object"!=typeof(t=t||ft)||t instanceof Qt||(e=t.delay||e,n=t.when||n,r=t.swing||r,i=t.times||i,o=t.wait||o,t=t.duration||ft),{duration:t,delay:e,swing:r,times:i,wait:o,when:n}}active(t){return null==t?this.enabled:(this.enabled=t,this)}addTransform(t,e){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,e,n){const i=Me.sanitise(t,e,n),r=new Me(i.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new $,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((t=>!t.isTransform)))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new $t(t),this}element(t){return null==t?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,e,n){return"object"==typeof t&&(e=t.swing,n=t.wait,t=t.times),this._times=t||1/0,this._swing=e||!1,this._wait=n||0,!0===this._times&&(this._times=1/0),this}loops(t){const e=this._duration+this._wait;if(null==t){const t=Math.floor(this._time/e),n=(this._time-t*e)/this._duration;return Math.min(t+n,this._times)}const n=t%1,i=e*Math.floor(t)+this._duration*n;return this.time(i)}persist(t){return null==t?this._persist:(this._persist=t,this)}position(t){const e=this._time,n=this._duration,i=this._wait,r=this._times,o=this._swing,s=this._reverse;let a;if(null==t){const t=function(t){const e=o*Math.floor(t%(2*(i+n))/(i+n)),r=e&&!s||!e&&s,a=Math.pow(-1,r)*(t%(i+n))/n+r;return Math.max(Math.min(a,1),0)},l=r*(i+n)-i;return a=e<=0?Math.round(t(1e-5)):e<l?t(e):Math.round(t(l-1e-5)),a}const l=Math.floor(this.loops()),h=o&&l%2==0;return a=l+(h&&!s||s&&h?t:1-t),this.loops(a)}progress(t){return null==t?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,e,n,i){return this._queue.push({initialiser:t||ut,runner:e||ut,retarget:n,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(t){return this._reverse=null==t?!this._reverse:t,this}schedule(t,e,n){if(t instanceof Le||(n=e,e=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,e,n),this}step(t){if(!this.enabled)return this;t=null==t?16:t,this._time+=t;const e=this.position(),n=this._lastPosition!==e&&this._time>=0;this._lastPosition=e;const i=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<i&&this._time>=i;this._lastTime=this._time,r&&this.fire("start",this);const s=this._isDeclarative;this.done=!s&&!o&&this._time>=i,this._reseted=!1;let a=!1;return(n||s)&&(this._initialise(n),this.transforms=new $,a=this._run(s?t:e),this.fire("step",this)),this.done=this.done||a&&s,o&&this.fire("finished",this),this}time(t){if(null==t)return this._time;const e=t-this._time;return this.step(e),this}timeline(t){return void 0===t?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(t||this._isDeclarative)for(let e=0,n=this._queue.length;e<n;++e){const n=this._queue[e],i=this._isDeclarative||!n.initialised&&t;t=!n.finished,i&&t&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(t,e){if(this._history[t]={morpher:e,caller:this._queue[this._queue.length-1]},this._isDeclarative){const t=this.timeline();t&&t.play()}}_run(t){let e=!0;for(let n=0,i=this._queue.length;n<i;++n){const i=this._queue[n],r=i.runner.call(this,t);i.finished=i.finished||!0===r,e=e&&i.finished}return e}_tryRetarget(t,e,n){if(this._history[t]){if(!this._history[t].caller.initialised){const e=this._queue.indexOf(this._history[t].caller);return this._queue.splice(e,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,e,n):this._history[t].morpher.to(e),this._history[t].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}Me.id=0;class Ae{constructor(t=new $,e=-1,n=!0){this.transforms=t,this.id=e,this.done=n}clearTransformsFromQueue(){}}T([Me,Ae],{mergeWith(t){return new Ae(t.transforms.lmultiply(this.transforms),t.id)}});const Oe=(t,e)=>t.lmultiplyO(e),Te=t=>t.transforms;function ze(){const t=this._transformationRunners.runners.map(Te).reduce(Oe,new $);this.transform(t),this._transformationRunners.merge(),1===this._transformationRunners.length()&&(this._frameId=null)}class De{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const e=t.id+1;return this.runners.push(t),this.ids.push(e),this}clearBefore(t){const e=this.ids.indexOf(t+1)||1;return this.ids.splice(0,e,0),this.runners.splice(0,e,new Ae).forEach((t=>t.clearTransformsFromQueue())),this}edit(t,e){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1,t+1),this.runners.splice(n,1,e),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let e=0;e<this.runners.length;++e){const n=this.runners[e];if(!(t&&n.done&&t.done)||n._timeline&&n._timeline._runnerIds.includes(n.id)||t._timeline&&t._timeline._runnerIds.includes(t.id))t=n;else{this.remove(n.id);const i=n.mergeWith(t);this.edit(t.id,i),t=i,--e}}return this}remove(t){const e=this.ids.indexOf(t+1);return this.ids.splice(e,1),this.runners.splice(e,1),this}}r({Element:{animate(t,e,n){const i=Me.sanitise(t,e,n),r=this.timeline();return new Me(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter((e=>e.id<=t.id)).map(Te).reduce(Oe,new $)},_addRunner(t){this._transformationRunners.add(t),Ce.cancelImmediate(this._frameId),this._frameId=Ce.immediate(ze.bind(this))},_prepareRunner(){null==this._frameId&&(this._transformationRunners=(new De).add(new Ae(new $(this))))}}}),T(Me,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if("string"==typeof e)return this.styleAttr(t,{[e]:n});let i=e;if(this._tryRetarget(t,i))return this;let r=new ce(this._stepper).to(i),o=Object.keys(i);return this.queue((function(){r=r.from(this.element()[t](o))}),(function(e){return this.element()[t](r.at(e).valueOf()),r.done()}),(function(e){const n=Object.keys(e),s=(a=o,n.filter((t=>!a.includes(t))));var a;if(s.length){const e=this.element()[t](s),n=new de(r.from()).valueOf();Object.assign(n,e),r.from(n)}const l=new de(r.to()).valueOf();Object.assign(l,e),r.to(l),o=n,i=e})),this._rememberMorpher(t,r),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new ce(this._stepper).to(new gt(t));return this.queue((function(){n=n.from(this.element().zoom())}),(function(t){return this.element().zoom(n.at(t),e),n.done()}),(function(t,i){e=i,n.to(t)})),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const i=$.isMatrixLike(t);n=null!=t.affine?t.affine:null!=n?n:!i;const r=new ce(this._stepper).type(n?fe:$);let o,s,a,l,h;return this.queue((function(){s=s||this.element(),o=o||f(t,s),h=new $(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)}),(function(c){e||this.clearTransform();const{x:u,y:f}=new W(o).transform(s._currentTransform(this));let p=new $({...t,origin:[u,f]}),d=this._isDeclarative&&a?a:h;if(n){p=p.decompose(u,f),d=d.decompose(u,f);const t=p.rotate,e=d.rotate,n=[t-360,t,t+360],i=n.map((t=>Math.abs(t-e))),r=Math.min(...i),o=i.indexOf(r);p.rotate=n[o]}e&&(i||(p.rotate=t.rotate||0),this._isDeclarative&&l&&(d.rotate=l)),r.from(d),r.to(p);const m=r.at(c);return l=m.rotate,a=new $(m),this.addTransform(a),s._addRunner(this),r.done()}),(function(e){(e.origin||"center").toString()!==(t.origin||"center").toString()&&(o=f(e,s)),t={...e,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(t,e){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new gt(e),this._tryRetarget(t,e))return this;const n=new ce(this._stepper).to(e);let i=null;return this.queue((function(){i=this.element()[t](),n.from(i),n.to(i+e)}),(function(e){return this.element()[t](n.at(e)),n.done()}),(function(t){n.to(i+new gt(t))})),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const n=new ce(this._stepper).to(e);return this.queue((function(){n.from(this.element()[t]())}),(function(e){return this.element()[t](n.at(e)),n.done()})),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new gt(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return t&&e||(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,i){if(4===arguments.length)return this.plot([t,e,n,i]);if(this._tryRetarget("plot",t))return this;const r=new ce(this._stepper).type(this._element.MorphArray).to(t);return this.queue((function(){r.from(this._element.array())}),(function(t){return this._element.plot(r.at(t)),r.done()})),this._rememberMorpher("plot",r),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,i){return this._queueObject("viewbox",new K(t,e,n,i))},update(t){return"object"!=typeof t?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset),this)}}),T(Me,{rx:Lt,ry:Mt,from:Pt,to:Bt}),L(Me,"Runner");class Fe extends Ct{constructor(t,e=t){super(C("svg",t),e),this.namespace()}defs(){return this.isRoot()?_(this.node.querySelector("defs"))||this.put(new _t):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof y.window.SVGElement)&&"#document-fragment"!==this.node.parentNode.nodeName}namespace(){return this.isRoot()?this.attr({xmlns:p,version:"1.1"}).attr("xmlns:xlink",m,d).attr("xmlns:svgjs","http://svgjs.dev/svgjs",d):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,d).attr("xmlns:svgjs",null,d)}root(){return this.isRoot()?this:super.root()}}r({Container:{nested:z((function(){return this.put(new Fe)}))}}),L(Fe,"Svg",!0);class Se extends Ct{constructor(t,e=t){super(C("symbol",t),e)}}r({Container:{symbol:z((function(){return this.put(new Se)}))}}),L(Se,"Symbol");var je={__proto__:null,plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(y.document.createTextNode(t)),this},length:function(){return this.node.getComputedTextLength()},x:function(t,e=this.bbox()){return null==t?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return null==t?e.y:this.attr("y",this.attr("y")+t-e.y)},move:function(t,e,n=this.bbox()){return this.x(t,n).y(e,n)},cx:function(t,e=this.bbox()){return null==t?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return null==t?e.cy:this.attr("y",this.attr("y")+t-e.cy)},center:function(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},amove:function(t,e){return this.ax(t).ay(e)},build:function(t){return this._build=!!t,this}};class Ee extends kt{constructor(t,e=t){super(C("text",t),e),this.dom.leading=new gt(1.3),this._rebuild=!0,this._build=!1}leading(t){return null==t?this.dom.leading:(this.dom.leading=new gt(t),this.rebuild())}rebuild(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){const t=this;let e=0;const n=this.dom.leading;this.each((function(i){const r=y.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=n*new gt(r);this.dom.newLined&&(this.attr("x",t.attr("x")),"\n"===this.text()?e+=o:(this.attr("dy",i?o+e:0),e=0))})),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new gt(t.leading||1.3),this}text(t){if(void 0===t){const e=this.node.childNodes;let n=0;t="";for(let i=0,r=e.length;i<r;++i)"textPath"!==e[i].nodeName?(i!==n&&3!==e[i].nodeType&&!0===_(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent):0===i&&(n=1);return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else for(let e=0,n=(t=(t+"").split("\n")).length;e<n;e++)this.newLine(t[e]);return this.build(!1).rebuild()}}T(Ee,je),r({Container:{text:z((function(t=""){return this.put(new Ee).text(t)})),plain:z((function(t=""){return this.put(new Ee).plain(t)}))}}),L(Ee,"Text");class Pe extends kt{constructor(t,e=t){super(C("tspan",t),e),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Ee))return this;const e=t.index(this),n=y.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new gt(n);return this.dy(e?i:0).attr("x",t.x())}text(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}T(Pe,je),r({Tspan:{tspan:z((function(t=""){const e=new Pe;return this._build||this.clear(),this.put(e).text(t)}))},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),L(Pe,"Tspan");class Be extends kt{constructor(t,e=t){super(C("circle",t),e)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new gt(t).divide(2))}}T(Be,{x:At,y:Ot,cx:Tt,cy:zt,width:Dt,height:Ft}),r({Container:{circle:z((function(t=0){return this.put(new Be).size(t).move(0,0)}))}}),L(Be,"Circle");class Ie extends Ct{constructor(t,e=t){super(C("clipPath",t),e)}remove(){return this.targets().forEach((function(t){t.unclip()})),super.remove()}targets(){return it("svg [clip-path*="+this.id()+"]")}}r({Container:{clip:z((function(){return this.defs().put(new Ie)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof Ie?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),L(Ie,"ClipPath");class Ne extends xt{constructor(t,e=t){super(C("foreignObject",t),e)}}r({Container:{foreignObject:z((function(t,e){return this.put(new Ne).size(t,e)}))}}),L(Ne,"ForeignObject");var qe={__proto__:null,dmove:function(t,e){return this.children().forEach(((n,i)=>{let r;try{r=n.bbox()}catch(t){return}const o=new $(n),s=o.translate(t,e).transform(o.inverse()),a=new W(r.x,r.y).transform(s);n.move(a.x,a.y)})),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return null==t?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,n=this.bbox()){const i=t-n.x,r=e-n.y;return this.dmove(i,r)},size:function(t,e,n=this.bbox()){const i=u(this,t,e,n),r=i.width/n.width,o=i.height/n.height;return this.children().forEach(((t,e)=>{const i=new W(n).transform(new $(t).inverse());t.scale(r,o,i.x,i.y)})),this},width:function(t,e=this.bbox()){return null==t?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return null==t?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return null==t?e.y:this.move(e.x,t,e)}};class Ue extends Ct{constructor(t,e=t){super(C("g",t),e)}}T(Ue,qe),r({Container:{group:z((function(){return this.put(new Ue)}))}}),L(Ue,"G");class Ge extends Ct{constructor(t,e=t){super(C("a",t),e)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,m)}}T(Ge,qe),r({Container:{link:z((function(t){return this.put(new Ge).to(t)}))},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Ge,this.wrap(e)),"function"==typeof t?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&"a"===t.node.nodeName.toLowerCase()?t:null}}}),L(Ge,"A");class Re extends Ct{constructor(t,e=t){super(C("mask",t),e)}remove(){return this.targets().forEach((function(t){t.unmask()})),super.remove()}targets(){return it("svg [mask*="+this.id()+"]")}}r({Container:{mask:z((function(){return this.defs().put(new Re)}))},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof Re?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),L(Re,"Mask");class Ve extends xt{constructor(t,e=t){super(C("stop",t),e)}update(t){return("number"==typeof t||t instanceof gt)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new gt(t.offset)),this}}r({Gradient:{stop:function(t,e,n){return this.put(new Ve).update(t,e,n)}}}),L(Ve,"Stop");class Xe extends xt{constructor(t,e=t){super(C("style",t),e)}addText(t=""){return this.node.textContent+=t,this}font(t,e,n={}){return this.rule("@font-face",{fontFamily:t,src:e,...n})}rule(t,e){return this.addText(function(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(const t in e)n+=t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))+":"+e[t]+";";return n+="}",n}(t,e))}}r("Dom",{style(t,e){return this.put(new Xe).rule(t,e)},fontface(t,e,n){return this.put(new Xe).font(t,e,n)}}),L(Xe,"Style");class Ye extends Ee{constructor(t,e=t){super(C("textPath",t),e)}array(){const t=this.track();return t?t.array():null}plot(t){const e=this.track();let n=null;return e&&(n=e.plot(t)),null==t?n:this}track(){return this.reference("href")}}r({Container:{textPath:z((function(t,e){return t instanceof Ee||(t=this.text(t)),t.path(e)}))},Text:{path:z((function(t,e=!0){const n=new Ye;let i;if(t instanceof ye||(t=this.defs().path(t)),n.attr("href","#"+t,m),e)for(;i=this.node.firstChild;)n.node.appendChild(i);return this.put(n)})),textPath(){return this.findOne("textPath")}},Path:{text:z((function(t){return t instanceof Ee||(t=(new Ee).addTo(this.parent()).text(t)),t.path(this)})),targets(){return it("svg textPath").filter((t=>(t.attr("href")||"").includes(this.id())))}}}),Ye.prototype.MorphArray=le,L(Ye,"TextPath");class He extends kt{constructor(t,e=t){super(C("use",t),e)}use(t,e){return this.attr("href",(e||"")+"#"+t,m)}}r({Container:{use:z((function(t,e){return this.put(new He).use(t,e)}))}}),L(He,"Use");const We=w;T([Fe,Se,Gt,Ut,Yt],o("viewbox")),T([Xt,be,ve,ye],o("marker")),T(Ee,o("Text")),T(ye,o("Path")),T(_t,o("Defs")),T([Ee,Pe],o("Tspan")),T([xe,jt,qt,Me],o("radius")),T(ct,o("EventTarget")),T(bt,o("Dom")),T(xt,o("Element")),T(kt,o("Shape")),T([Ct,Et],o("Container")),T(qt,o("Gradient")),T(Me,o("Runner")),et.extend([...new Set(e)]),function(t=[]){me.push(...[].concat(t))}([gt,H,K,$,yt,Rt,le,W]),T(me,{to(t){return(new ce).type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,i,r){return this.fromArray(t.map((function(t,o){return i.step(t,e[o],n,r[o],r)})))}});var Qe=n(7361),$e=n.n(Qe),Ze=n(8446),Je=n.n(Ze),Ke=n(8630),tn=n.n(Ke),en=n(3857),nn=n.n(en),rn=n(361),on=n.n(rn);const sn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="atp-synthase" transform="translate(0, 0)">\n    <g id="base">\n      <g id="i-subunit">\n        <path d="M1034.112,291.597 L1062.208,291.597 C1066.083,291.597 1069.225,295.178 1069.225,299.597 L1069.225,382.957 C1069.225,387.375 1066.083,390.957 1062.208,390.957 L1034.112,390.957 C1030.237,390.957 1027.096,387.375 1027.096,382.957 L1027.096,299.597 C1027.096,295.178 1030.237,291.597 1034.112,291.597 z" fill="#C7B29E"/>\n        <path d="M1034.112,291.597 L1062.208,291.597 C1066.083,291.597 1069.225,295.178 1069.225,299.597 L1069.225,382.957 C1069.225,387.375 1066.083,390.957 1062.208,390.957 L1034.112,390.957 C1030.237,390.957 1027.096,387.375 1027.096,382.957 L1027.096,299.597 C1027.096,295.178 1030.237,291.597 1034.112,291.597 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="gamma-subunit">\n        <path d="M1090.885,319.445 C1083.062,319.445 1076.72,301.671 1076.72,279.745 C1076.72,257.819 1083.062,240.045 1090.885,240.045 C1098.707,240.045 1105.049,257.819 1105.049,279.745 C1105.049,301.671 1098.707,319.445 1090.885,319.445 z" fill="#F6E8D7"/>\n        <path d="M1090.885,319.445 C1083.062,319.445 1076.72,301.671 1076.72,279.745 C1076.72,257.819 1083.062,240.045 1090.885,240.045 C1098.707,240.045 1105.049,257.819 1105.049,279.745 C1105.049,301.671 1098.707,319.445 1090.885,319.445 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="ii-subunit">\n        <path d="M1027.424,383.195 C1021.48,383.195 1016.661,341.25 1016.661,289.508 C1016.661,237.766 1021.48,195.82 1027.424,195.82 C1033.369,195.82 1038.188,237.766 1038.188,289.508 C1038.188,341.25 1033.369,383.195 1027.424,383.195 z" fill="#E4D3BD"/>\n        <path d="M1027.424,383.195 C1021.48,383.195 1016.661,341.25 1016.661,289.508 C1016.661,237.766 1021.48,195.82 1027.424,195.82 C1033.369,195.82 1038.188,237.766 1038.188,289.508 C1038.188,341.25 1033.369,383.195 1027.424,383.195 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="c-ring">\n        <path d="M1116.085,285.483 C1121.111,285.483 1125.185,310.134 1125.185,340.541 C1125.185,370.949 1121.111,395.6 1116.085,395.6 C1111.807,394.652 1110.306,383.081 1109.785,379.931 C1109.086,384.096 1108.368,388.379 1106.614,392.259 C1105.992,393.635 1105.138,395.347 1103.485,395.6 C1099.207,394.652 1097.706,383.081 1097.185,379.931 C1096.486,384.096 1095.768,388.379 1094.014,392.259 C1093.392,393.635 1092.538,395.347 1090.885,395.6 C1086.607,394.652 1085.106,383.081 1084.585,379.931 C1083.886,384.096 1083.168,388.379 1081.414,392.259 C1080.792,393.635 1079.938,395.347 1078.285,395.6 C1074.007,394.652 1072.505,383.078 1071.985,379.928 C1071.286,384.094 1070.567,388.378 1068.813,392.259 C1068.191,393.635 1067.337,395.347 1065.684,395.6 C1060.658,395.6 1056.584,370.949 1056.584,340.541 C1056.584,310.134 1060.658,285.483 1065.684,285.483 C1069.962,286.43 1071.464,298.005 1071.985,301.155 C1072.683,296.989 1073.402,292.705 1075.156,288.824 C1075.778,287.448 1076.632,285.736 1078.285,285.483 C1082.562,286.43 1084.065,298.003 1084.585,301.152 C1085.284,296.987 1086.002,292.704 1087.756,288.824 C1088.378,287.448 1089.232,285.736 1090.885,285.483 C1095.162,286.43 1096.665,298.003 1097.185,301.152 C1097.884,296.987 1098.602,292.704 1100.356,288.824 C1100.978,287.448 1101.832,285.736 1103.485,285.483 C1107.762,286.43 1109.265,298.003 1109.785,301.152 C1110.484,296.987 1111.202,292.704 1112.956,288.824 C1113.578,287.448 1114.432,285.736 1116.085,285.483 z" fill="#E4D3BD"/>\n        <path d="M1116.085,285.483 C1121.111,285.483 1125.185,310.134 1125.185,340.541 C1125.185,370.949 1121.111,395.6 1116.085,395.6 C1111.807,394.652 1110.306,383.081 1109.785,379.931 C1109.086,384.096 1108.368,388.379 1106.614,392.259 C1105.992,393.635 1105.138,395.347 1103.485,395.6 C1099.207,394.652 1097.706,383.081 1097.185,379.931 C1096.486,384.096 1095.768,388.379 1094.014,392.259 C1093.392,393.635 1092.538,395.347 1090.885,395.6 C1086.607,394.652 1085.106,383.081 1084.585,379.931 C1083.886,384.096 1083.168,388.379 1081.414,392.259 C1080.792,393.635 1079.938,395.347 1078.285,395.6 C1074.007,394.652 1072.505,383.078 1071.985,379.928 C1071.286,384.094 1070.567,388.378 1068.813,392.259 C1068.191,393.635 1067.337,395.347 1065.684,395.6 C1060.658,395.6 1056.584,370.949 1056.584,340.541 C1056.584,310.134 1060.658,285.483 1065.684,285.483 C1069.962,286.43 1071.464,298.005 1071.985,301.155 C1072.683,296.989 1073.402,292.705 1075.156,288.824 C1075.778,287.448 1076.632,285.736 1078.285,285.483 C1082.562,286.43 1084.065,298.003 1084.585,301.152 C1085.284,296.987 1086.002,292.704 1087.756,288.824 C1088.378,287.448 1089.232,285.736 1090.885,285.483 C1095.162,286.43 1096.665,298.003 1097.185,301.152 C1097.884,296.987 1098.602,292.704 1100.356,288.824 C1100.978,287.448 1101.832,285.736 1103.485,285.483 C1107.762,286.43 1109.265,298.003 1109.785,301.152 C1110.484,296.987 1111.202,292.704 1112.956,288.824 C1113.578,287.448 1114.432,285.736 1116.085,285.483 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="head">\n      <g id="beta-subunit">\n        <path d="M1122.002,258.488 C1108.427,258.488 1097.423,240.332 1097.423,217.937 C1097.423,195.542 1108.427,177.386 1122.002,177.386 C1135.577,177.386 1146.581,195.542 1146.581,217.937 C1146.581,240.332 1135.577,258.488 1122.002,258.488 z" fill="#C7B29E"/>\n        <path d="M1122.002,258.488 C1108.427,258.488 1097.423,240.332 1097.423,217.937 C1097.423,195.542 1108.427,177.386 1122.002,177.386 C1135.577,177.386 1146.581,195.542 1146.581,217.937 C1146.581,240.332 1135.577,258.488 1122.002,258.488 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="beta-subunit">\n        <path d="M1059.766,258.488 C1046.191,258.488 1035.187,240.332 1035.187,217.937 C1035.187,195.542 1046.191,177.386 1059.766,177.386 C1073.341,177.386 1084.345,195.542 1084.345,217.937 C1084.345,240.332 1073.341,258.488 1059.766,258.488 z" fill="#C7B29E"/>\n        <path d="M1059.766,258.488 C1046.191,258.488 1035.187,240.332 1035.187,217.937 C1035.187,195.542 1046.191,177.386 1059.766,177.386 C1073.341,177.386 1084.345,195.542 1084.345,217.937 C1084.345,240.332 1073.341,258.488 1059.766,258.488 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="alpha-subunit">\n        <path d="M1091.519,258.488 C1077.945,258.488 1066.94,240.332 1066.94,217.937 C1066.94,195.542 1077.945,177.386 1091.519,177.386 C1105.094,177.386 1116.098,195.542 1116.098,217.937 C1116.098,240.332 1105.094,258.488 1091.519,258.488 z" fill="#D6C2AD"/>\n        <path d="M1091.519,258.488 C1077.945,258.488 1066.94,240.332 1066.94,217.937 C1066.94,195.542 1077.945,177.386 1091.519,177.386 C1105.094,177.386 1116.098,195.542 1116.098,217.937 C1116.098,240.332 1105.094,258.488 1091.519,258.488 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="subunits">\n      <text transform="matrix(1, 0, 0, 1, 1091.019, 249.488)">\n        <tspan x="-2.62" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000"></tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1121.502, 249.488)">\n        <tspan x="-2.465" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000"></tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1059.266, 249.488)">\n        <tspan x="-2.465" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000"></tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1090.385, 272.773)">\n        <tspan x="-2.14" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000"></tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1045.639, 370.657)">\n        <tspan x="-1.389" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">I</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1026.924, 213.734)">\n        <tspan x="-2.315" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000"></tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1026.924, 321.319)">\n        <tspan x="-2.778" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">II</tspan>\n      </text>\n    </g>\n    <g id="reaction">\n      <g>\n        <path d="M1035.563,172.122 C1054.158,191.868 1070.244,203.864 1091.281,203.864 C1117.669,203.864 1139.483,181.757 1154.852,165.192" fill-opacity="0" stroke="#41719C" stroke-width="3"/>\n        <path d="M1035.563,172.122 L1040.551,171.344 L1029.883,165.933 L1034.362,177.024 z" fill="#41719C" fill-opacity="1" stroke="#41719C" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 1021.553, 146.15)">\n        <tspan x="-22.447" y="7.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">ATP</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1180.086, 146.15)">\n        <tspan x="-47.692" y="7.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">ADP + P</tspan>\n        <tspan x="44.582" y="7.212" font-family="Arial,ArialMT" font-size="14" fill="#000000">i</tspan>\n      </text>\n    </g>\n    <g id="label">\n      <text transform="matrix(1, 0, 0, 1, 1079.385, 574.538)">\n        <tspan x="-66.148" y="4.5" font-family="Arial,ArialMT" font-size="21" fill="#000000">ATP Synthase</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',an=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.subunits,n=void 0!==e&&e,i=t.reaction,r=void 0===i||i,o=t.label,s=void 0===o||o,a=t.position,l=void 0===a?null:a,h=t.cRingColor,c=void 0===h?"#C7B29E":h,u=t.alphaSubunitColor,f=void 0===u?"#D6C2AD":u,p=t.betaSubunitColor,d=void 0===p?"#C7B29E":p,m=t.gammaSubunitColor,y=void 0===m?"#F6E8D7":m,g=t.iSubunitColor,v=void 0===g?"#C7B29E":g,b=t.iiSubunitColor,x=void 0===b?"E4D3BD":b,w=We();if(w.svg(sn),n||w.findOne("#atp-synthase > #subunits").opacity(0),r||w.findOne("#atp-synthase > #reaction").opacity(0),s||w.findOne("#label").opacity(0),c&&w.findOne("#atp-synthase #c-ring path").fill(c),f&&w.findOne("#atp-synthase #alpha-subunit path").fill(f),d&&w.find("#atp-synthase #beta-subunit path").forEach((function(t){return t.fill(d)})),y&&w.findOne("#atp-synthase #gamma-subunit path").fill(y),v&&w.findOne("#atp-synthase #i-subunit path").fill(v),x&&w.findOne("#atp-synthase #ii-subunit path").fill(x),l){var C=w.findOne("#atp-synthase");C.transform({translateX:l-C.x(),origin:"left"})}return w.findOne("svg").svg(!1)},ln='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="cytochrome-b6f" transform="translate(0, 0)">\n    <g id="core">\n      <path d="M655.498,267.457 C675.147,267.457 691.076,293.75 691.076,326.183 C691.192,332.982 690.245,339.323 688.994,345.965 C699.86,349.08 703.904,361.547 704.283,371.638 C704.283,386.256 695.46,398.106 684.576,398.106 C675.306,397.791 669.131,390.242 666.527,381.963 C663.169,383.981 659.363,384.747 655.498,384.909 C646.635,384.927 639.904,379.589 634.281,373.32 C640.079,370.835 644.441,366.313 644.888,359.837 C644.301,348.973 632.875,344.517 623.487,344.171 L621.677,344.237 C620.378,338.308 620.013,332.235 619.92,326.183 C619.992,321.52 619.905,324.167 620.268,318.247 C621.897,319.181 623.796,319.344 625.629,319.445 C633.624,319.445 640.104,312.363 640.104,303.627 C640.004,296.459 635.609,289.785 628.42,288.182 C633.651,277.454 643.014,267.978 655.498,267.457 z" fill="#B2C7DA"/>\n      <path d="M655.498,267.457 C675.147,267.457 691.076,293.75 691.076,326.183 C691.192,332.982 690.245,339.323 688.994,345.965 C699.86,349.08 703.904,361.547 704.283,371.638 C704.283,386.256 695.46,398.106 684.576,398.106 C675.306,397.791 669.131,390.242 666.527,381.963 C663.169,383.981 659.363,384.747 655.498,384.909 C646.635,384.927 639.904,379.589 634.281,373.32 C640.079,370.835 644.441,366.313 644.888,359.837 C644.301,348.973 632.875,344.517 623.487,344.171 L621.677,344.237 C620.378,338.308 620.013,332.235 619.92,326.183 C619.992,321.52 619.905,324.167 620.268,318.247 C621.897,319.181 623.796,319.344 625.629,319.445 C633.624,319.445 640.104,312.363 640.104,303.627 C640.004,296.459 635.609,289.785 628.42,288.182 C633.651,277.454 643.014,267.978 655.498,267.457 z" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    </g>\n    <g id="rieske">\n      <path d="M661.032,384.909 C661.032,395.793 653.332,405.166 639.099,405.166 C624.867,405.166 613.944,397.91 613.944,387.026 C613.944,376.143 625.523,370.284 639.756,370.284 C653.988,370.284 661.032,374.025 661.032,384.909 z" fill="#B2C7DA"/>\n      <path d="M661.032,384.909 C661.032,395.793 653.332,405.166 639.099,405.166 C624.867,405.166 613.944,397.91 613.944,387.026 C613.944,376.143 625.523,370.284 639.756,370.284 C653.988,370.284 661.032,374.025 661.032,384.909 z" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    </g>\n    <path d="M715.576,471.247 C704.692,471.247 695.869,459.397 695.869,444.779 C695.869,430.161 704.692,418.311 715.576,418.311 C726.46,418.311 735.283,430.161 735.283,444.779 C735.283,459.397 726.46,471.247 715.576,471.247 z" fill-opacity="0" stroke="#000000" stroke-width="2" display="none"/>\n    <path d="M652.677,417.378 C651.378,411.449 651.013,405.375 650.92,399.324 C650.992,394.66 650.905,397.307 651.268,391.387 C652.897,392.321 654.796,392.485 656.629,392.586 C664.624,392.586 671.104,385.504 671.104,376.767 C671.004,369.599 666.609,362.925 659.42,361.323 C664.651,350.595 674.014,341.119 686.498,340.598 C706.147,340.598 722.076,366.89 722.076,399.324 C722.076,431.757 706.147,458.049 686.498,458.049 C677.635,458.068 670.904,452.729 665.281,446.46 C671.079,443.976 675.441,439.454 675.888,432.978 C675.301,422.114 663.875,417.658 654.487,417.311 L652.677,417.378 z" fill-opacity="0" stroke="#000000" stroke-width="2" display="none"/>\n    <g id="cofactors">\n      <g id="b6l">\n        <text transform="matrix(1, 0, 0, 1, 666.625, 340.175)">\n          <tspan x="-2.781" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">b</tspan>\n        </text>\n        <text transform="matrix(1, 0, 0, 1, 670.266, 343.072)">\n          <tspan x="-1.668" y="1" font-family="Arial,ArialMT" font-size="6" font-style="italic" fill="#000000">L</tspan>\n        </text>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 648.547, 306.901)">\n        <tspan x="-5.558" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">Q</tspan>\n        <tspan x="2.221" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">n</tspan>\n      </text>\n      <path d="M656.401,344.833 L661.727,340.305" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M662.635,360.504 L657.061,355.749" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <text transform="matrix(1, 0, 0, 1, 687.415, 389.241)">\n        <tspan x="-1.389" y="1.5" font-family="Arial,ArialMT" font-size="10" font-style="italic" fill="#000000">f</tspan>\n      </text>\n      <path d="M684.843,383.195 L678.856,375.36" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <text transform="matrix(1, 0, 0, 1, 669.694, 367.504)">\n        <tspan x="-13.793" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">FeS</tspan>\n      </text>\n      <g id="b6h">\n        <text transform="matrix(1, 0, 0, 1, 666.127, 314.582)">\n          <tspan x="-2.781" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">b</tspan>\n        </text>\n        <text transform="matrix(1, 0, 0, 1, 670.266, 317.479)">\n          <tspan x="-2.167" y="1" font-family="Arial,ArialMT" font-size="6" font-style="italic" fill="#000000">H</tspan>\n        </text>\n      </g>\n      <path d="M667.23,330.916 L667.23,322.27" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <text transform="matrix(1, 0, 0, 1, 650.529, 350.479)">\n        <tspan x="-5.558" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">Q</tspan>\n        <tspan x="2.221" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">p</tspan>\n      </text>\n      <path d="M661.975,313.358 L656.401,308.603" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    </g>\n    <g id="label">\n      <text transform="matrix(1, 0, 0, 1, 654.194, 574.038)">\n        <tspan x="-72.705" y="5" font-family="Arial,ArialMT" font-size="21" fill="#000000">Cytochrome </tspan>\n        <tspan x="46.332" y="5" font-family="Arial,ArialMT" font-size="21" font-style="italic" fill="#000000">bf</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',hn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.coreColor,n=void 0===e?"#B2C7DA":e,i=t.rieskeColor,r=void 0===i?"#B2C7DA":i,o=t.rieske,s=void 0===o||o,a=t.cofactors,l=void 0!==a&&a,h=t.label,c=void 0===h||h,u=t.position,f=void 0===u?null:u,p=We();if(p.svg(ln),n&&p.find("#cytochrome-b6f #core path").forEach((function(t){return t.fill(n)})),r&&p.find("#cytochrome-b6f #rieske path").forEach((function(t){return t.fill(r)})),l||p.findOne("#cytochrome-b6f #cofactors").opacity(0),s||p.findOne("#cytochrome-b6f #rieske").opacity(0),c||p.findOne("#cytochrome-b6f #label").opacity(0),f){var d=p.findOne("#cytochrome-b6f");d.transform({translateX:f-d.x()})}return p.findOne("svg").svg(!1)},cn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="cytochrome-c6" transform="translate(0, 0)">\n    <g id="shape">\n      <path d="M765.396,461.225 C755.975,461.225 748.337,453.587 748.337,444.165 C748.337,434.744 755.975,427.106 765.396,427.106 C774.818,427.106 782.456,434.744 782.456,444.165 C782.456,453.587 774.818,461.225 765.396,461.225 z" fill="#FF2B2B"/>\n      <path d="M765.396,461.225 C755.975,461.225 748.337,453.587 748.337,444.165 C748.337,434.744 755.975,427.106 765.396,427.106 C774.818,427.106 782.456,434.744 782.456,444.165 C782.456,453.587 774.818,461.225 765.396,461.225 z" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    </g>\n    <g id="cofactor">\n      <path d="M762.184,438.133 L761.2,435.103 L763.777,433.23 L766.355,435.103 L765.37,438.133 z M776.445,438.133 L777.43,435.103 L774.852,433.23 L772.275,435.103 L773.259,438.133 z M765.37,444.052 L766.355,447.082 L763.777,448.955 L761.2,447.082 L762.184,444.052 z M776.445,444.052 L777.43,447.082 L774.852,448.955 L772.275,447.082 L773.259,444.052 z M772.275,435.036 L769.315,432.886 L766.355,435.036 M772.275,447.14 L769.315,449.29 L766.355,447.14 M762.166,444.052 L760.015,441.092 L762.166,438.133 M776.522,444.052 L778.672,441.092 L776.522,438.133" fill-opacity="0" stroke="#000000" stroke-width="0.75"/>\n      <g>\n        <path d="M766.457,442.199 L766.457,438.923 L768.666,438.923 L768.666,439.31 L766.89,439.31 L766.89,440.324 L768.427,440.324 L768.427,440.711 L766.89,440.711 L766.89,442.199 z" fill="#000000"/>\n        <path d="M770.802,441.435 L771.218,441.486 Q771.119,441.85 770.853,442.051 Q770.588,442.252 770.174,442.252 Q769.654,442.252 769.349,441.932 Q769.044,441.611 769.044,441.032 Q769.044,440.434 769.352,440.103 Q769.66,439.772 770.152,439.772 Q770.628,439.772 770.929,440.096 Q771.231,440.42 771.231,441.008 Q771.231,441.044 771.229,441.115 L769.459,441.115 Q769.482,441.506 769.681,441.714 Q769.879,441.922 770.177,441.922 Q770.398,441.922 770.554,441.805 Q770.71,441.689 770.802,441.435 z M769.482,440.784 L770.807,440.784 Q770.78,440.485 770.655,440.335 Q770.462,440.103 770.156,440.103 Q769.879,440.103 769.691,440.288 Q769.502,440.474 769.482,440.784 z" fill="#000000"/>\n      </g>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 763.499, 480.233)">\n      <tspan x="-28.347" y="6.378" font-family="Arial,ArialMT" font-size="21" fill="#000000">Cyt c</tspan>\n    </text>\n  </g>\n</svg>\n',un=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#FF2B2B":e,i=t.cofactor,r=void 0!==i&&i,o=t.label,s=void 0===o||o,a=t.position,l=void 0===a?null:a,h=We();if(h.svg(cn),h.findOne("#cytochrome-c6 #shape path").fill(n),r||h.findOne("#cytochrome-c6 #cofactor").opacity(0),s||h.findOne("#cytochrome-c6 text").opacity(0),l){var c=h.findOne("#cytochrome-c6");c.transform({translateX:l-c.x()})}return h.findOne("svg").svg(!1)},fn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="electron-flux" transform="translate(0, 0)">\n    <g id="pc-to-ps-i">\n      <path d="M841.221,412.224 C823.496,431.894 808.142,443.837 788.078,443.837" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n      <path d="M841.221,412.224 L842.53,417.099 L846.763,405.911 L836.217,411.557 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n    </g>\n    <g id="b6f-to-pc">\n      <path d="M730.813,439.253 C713.872,434.135 699.731,416.062 689.304,401.988" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n      <path d="M730.813,439.253 L727.414,442.985 L739.118,440.515 L728.675,434.68 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n    </g>\n    <g id="ps-i-to-fd">\n      <path d="M852.334,249.445 L852.334,275.829" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n      <path d="M852.334,249.445 L856.534,252.245 L852.334,241.045 L848.134,252.245 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n    </g>\n    <g id="fd-to-fnr">\n      <path d="M869.148,165.664 L859.029,184.313" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n      <path d="M869.148,165.664 L871.505,170.128 L873.155,158.281 L864.122,166.122 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n    </g>\n    <g id="flow-q-cycle">\n      <g>\n        <path d="M552.895,352.348 C574.015,364.242 597.894,361.953 617.113,358.17" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n        <path d="M617.113,358.17 L615.25,362.862 L625.329,356.42 L613.5,354.646 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <g>\n        <path d="M628.891,307.535 C603.438,303.518 580.06,313.116 561.96,322.513" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n        <path d="M561.96,322.513 L562.441,317.488 L554.558,326.485 L566.413,324.889 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n      </g>\n    </g>\n    <g id="ps-ii-to-pq">\n      <path d="M496.773,320.56 C477.285,306.9 441.565,310.935 414.488,314.678" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n      <path d="M496.773,320.56 L491.858,321.71 L502.903,326.303 L497.601,315.581 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n    </g>\n    <g id="fd-to-cyt-b6f">\n      <path d="M673.549,253.71 C695.089,206.767 749.784,205.734 818.663,205.734" fill-opacity="0" stroke="#F8941D" stroke-width="3"/>\n      <path d="M673.549,253.71 L670.667,249.566 L670.47,261.526 L678.483,252.645 z" fill="#F8941D" fill-opacity="1" stroke="#F8941D" stroke-width="3" stroke-opacity="1"/>\n    </g>\n  </g>\n</svg>\n',pn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.pc_to_ps_i,n=void 0===e||e,i=t.b6f_to_pc,r=void 0===i||i,o=t.ps_i_to_fd,s=void 0===o||o,a=t.flow_q_cycle,l=void 0===a||a,h=t.ps_ii_to_pq,c=void 0===h||h,u=t.fd_to_cyt_b6f,f=void 0!==u&&u,p=t.fd_to_fnr,d=void 0===p||p,m=t.position,y=void 0===m?null:m,g=We();if(g.svg(fn),n||g.findOne("#pc-to-ps-i").opacity(0),r||g.findOne("#b6f-to-pc").opacity(0),s||g.findOne("#ps-i-to-fd").opacity(0),l||g.findOne("#flow-q-cycle").opacity(0),c||g.findOne("#ps-ii-to-pq").opacity(0),f||g.findOne("#fd-to-cyt-b6f").opacity(0),d||g.findOne("#fd-to-fnr").opacity(0),y){var v=g.findOne("#electron-flux");v.transform({translateX:y-v.x()})}return g.findOne("svg").svg(!1)},dn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="ferredoxin" transform="translate(0, 0)">\n    <g id="shape">\n      <path d="M854.896,226.945 C845.475,226.945 837.837,219.307 837.837,209.886 C837.837,200.464 845.475,192.827 854.896,192.827 C864.318,192.827 871.956,200.464 871.956,209.886 C871.956,219.307 864.318,226.945 854.896,226.945 z" fill="#A08C79"/>\n      <path d="M854.896,226.945 C845.475,226.945 837.837,219.307 837.837,209.886 C837.837,200.464 845.475,192.827 854.896,192.827 C864.318,192.827 871.956,200.464 871.956,209.886 C871.956,219.307 864.318,226.945 854.896,226.945 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 882.063, 238.536)">\n      <tspan x="-12.253" y="4.689" font-family="Arial,ArialMT" font-size="21" fill="#000000">Fd</tspan>\n    </text>\n  </g>\n</svg>\n',mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#A08C79":e,i=t.label,r=void 0===i||i,o=t.position,s=void 0===o||o,a=We();if(a.svg(dn),n&&a.findOne("#ferredoxin path").fill(n),r||a.findOne("#ferredoxin text").opacity(0),s){var l=a.findOne("#ferredoxin");l.transform({translateX:s-l.x()})}return a.findOne("svg").svg(!1)},yn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="fnr" transform="translate(0, 0)">\n    <g id="shape">\n      <path d="M884.643,149.036 C875.221,149.036 867.584,141.398 867.584,131.977 C867.584,122.555 875.221,114.917 884.643,114.917 C894.065,114.917 901.702,122.555 901.702,131.977 C901.702,141.398 894.065,149.036 884.643,149.036 z" fill="#EECC00"/>\n      <path d="M884.643,149.036 C875.221,149.036 867.584,141.398 867.584,131.977 C867.584,122.555 875.221,114.917 884.643,114.917 C894.065,114.917 901.702,122.555 901.702,131.977 C901.702,141.398 894.065,149.036 884.643,149.036 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <g id="reaction">\n      <g>\n        <path d="M940.627,92.514 C922.032,112.26 905.946,124.255 884.91,124.255 C858.521,124.255 836.707,102.149 821.338,85.584" fill-opacity="0" stroke="#41719C" stroke-width="3"/>\n        <path d="M940.627,92.514 L941.828,97.416 L946.307,86.325 L935.639,91.736 z" fill="#41719C" fill-opacity="1" stroke="#41719C" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 828.651, 66.755)">\n        <tspan x="-38.402" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">NADP</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 963.656, 66.755)">\n        <tspan x="-42.006" y="7.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">NADPH</tspan>\n      </text>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 917.873, 162.576)">\n      <tspan x="-21.579" y="4.689" font-family="Arial,ArialMT" font-size="21" fill="#000000">FNR</tspan>\n    </text>\n  </g>\n</svg>\n',gn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.reaction,n=void 0===e||e,i=t.color,r=void 0===i?"#EECC00":i,o=t.label,s=void 0===o||o,a=t.position,l=void 0===a||a,h=We();if(h.svg(yn),r&&h.findOne("#fnr #shape path").fill(r),n||h.findOne("#fnr #reaction").opacity(0),s||h.findOne("#fnr > text").opacity(0),l){var c=h.findOne("#fnr");c.transform({translateX:l-c.x()})}return h.findOne("svg").svg(!1)},vn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="ion-channels" transform="translate(0, 0)">\n    <g id="ca-channel">\n      <g id="shape">\n        <path d="M1227.972,372.685 L1219.594,383.444 L1227.972,372.685 L1219.594,383.444 L1200.532,383.444 L1219.594,383.444 L1200.532,383.444 L1192.154,372.685 L1200.532,383.444 L1192.154,372.685 L1192.154,290.132 L1192.154,372.685 L1192.154,290.132 L1227.972,290.132 L1192.154,290.132 L1227.972,290.132 L1227.972,372.685 L1227.972,290.132 L1227.972,372.685 z" fill="#959595"/>\n        <path d="M1227.972,372.685 L1219.594,383.444 L1227.972,372.685 L1219.594,383.444 L1200.532,383.444 L1219.594,383.444 L1200.532,383.444 L1192.154,372.685 L1200.532,383.444 L1192.154,372.685 L1192.154,290.132 L1192.154,372.685 L1192.154,290.132 L1227.972,290.132 L1192.154,290.132 L1227.972,290.132 L1227.972,372.685 L1227.972,290.132 L1227.972,372.685 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="k-channel">\n      <g id="shape">\n        <path d="M1260.337,383.444 L1279.399,383.444 L1287.777,372.685 L1287.777,300.89 L1279.399,290.132 L1260.337,290.132 L1251.959,300.89 L1251.959,372.685 L1260.337,383.444 z" fill="#959595"/>\n        <path d="M1260.337,383.444 L1279.399,383.444 L1287.777,372.685 L1287.777,300.89 L1279.399,290.132 L1260.337,290.132 L1251.959,300.89 L1251.959,372.685 L1260.337,383.444 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="pmf">\n      <text transform="matrix(1, 0, 0, 1, 1358.84, 336.004)">\n        <tspan x="-33.548" y="5.5" font-family="Arial,ArialMT" font-size="18" fill="#EE6600">/</tspan>\n        <tspan x="-1.485" y="5.5" font-family="Arial,ArialMT" font-size="18" fill="#EE6600"></tspan>\n        <tspan x="10.538" y="5.5" font-family="Arial,ArialMT" font-size="18" fill="#EE6600">pH</tspan>\n      </text>\n    </g>\n    <g id="label">\n      <text transform="matrix(1, 0, 0, 1, 1243.67, 574.538)" id="Ion_Channels">\n        <tspan x="-61.877" y="4.5" font-family="Arial,ArialMT" font-size="21" fill="#000000">Ion Channels</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',bn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kChannel,n=void 0!==e&&e,i=t.caChannel,r=void 0!==i&&i,o=t.label,s=void 0===o||o,a=t.pmf,l=void 0!==a&&a,h=t.position,c=void 0===h?null:h,u=We();if(u.svg(vn),n||u.findOne("#ion-channels #k-channel").opacity(0),r||u.findOne("#ion-channels #ca-channel").opacity(0),s||u.findOne("#ion-channels #label").opacity(0),l||u.findOne("#ion-channels #pmf").opacity(0),c){var f=u.findOne("#ion-channels");f.transform({translateX:c-f.x()})}return u.findOne("svg").svg(!1)},xn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="ion-flux" transform="translate(0, 0)">\n    <g id="ca-channel">\n      <text transform="matrix(1, 0, 0, 1, 1209.563, 436.118)" id="Ca">\n        <tspan x="-20.402" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">Ca</tspan>\n      </text>\n      <g id="direction">\n        <path d="M1210.063,409.591 L1210.063,254.585" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M1210.063,409.591 L1205.863,406.791 L1210.063,417.991 L1214.263,406.791 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n    </g>\n    <g id="k-channel">\n      <text transform="matrix(1, 0, 0, 1, 1280.918, 236.382)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1269.368, 439.123)">\n        <tspan x="-13.066" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">K</tspan>\n      </text>\n      <g id="direction">\n        <path d="M1264.812,408.277 L1264.812,253.271" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M1264.812,408.277 L1260.612,405.477 L1264.812,416.677 L1269.012,405.477 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <g id="direction">\n        <path d="M1274.923,265.298 L1274.923,420.304" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M1274.923,265.298 L1279.123,268.098 L1274.923,256.898 L1270.723,268.098 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n    </g>\n  </g>\n</svg>\n',wn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kChannel,n=void 0!==e&&e,i=t.caChannel,r=void 0!==i&&i,o=t.position,s=void 0===o?null:o,a=We();if(a.svg(xn),n||a.findOne("#ion-flux #k-channel").opacity(0),r||a.findOne("#ion-flux #ca-channel").opacity(0),s){var l=a.findOne("#ion-flux");l.transform({translateX:s-l.x()})}return a.findOne("svg").svg(!1)},Cn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#FFE5E5":e,i=t.label,r=void 0===i?"lumen":i,o=t.showLabel,s=void 0===o||o,a=We();a.svg('<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="lumen" transform="translate(0, 0)">\n    <path d="M-0,376.004 L1400,376.004 L1400,600 L-0,600 L-0,376.004 z" fill="#FFE5E5"/>\n    <text transform="matrix(1, 0, 0, 1, 1358.84, 392.945)">\n      <tspan x="-30.04" y="7.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">lumen</tspan>\n    </text>\n  </g>\n</svg>\n'),a.findOne("#lumen path").fill(n);var l=a.findOne("#lumen tspan");return l.text(r),s||(l=a.findOne("#lumen text")).opacity(0),a.findOne("#lumen path").animate().transform({rotation:45},!0),a.findOne("svg").svg(!1)},_n='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="photosystem-i" transform="translate(0, 0)">\n    <g id="antenna">\n      <g id="lhca">\n        <path d="M891.728,291.597 L916.885,291.597 C922.992,291.597 927.943,296.413 927.943,302.355 L927.943,374.15 C927.943,380.092 922.992,384.909 916.885,384.909 L891.728,384.909 C885.621,384.909 880.67,380.092 880.67,374.15 L880.67,302.355 C880.67,296.413 885.621,291.597 891.728,291.597 z" fill="#008000"/>\n        <path d="M891.728,291.597 L916.885,291.597 C922.992,291.597 927.943,296.413 927.943,302.355 L927.943,374.15 C927.943,380.092 922.992,384.909 916.885,384.909 L891.728,384.909 C885.621,384.909 880.67,380.092 880.67,374.15 L880.67,302.355 C880.67,296.413 885.621,291.597 891.728,291.597 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="lhca">\n        <path d="M786.926,291.597 L812.083,291.597 C818.19,291.597 823.141,296.413 823.141,302.355 L823.141,374.15 C823.141,380.092 818.19,384.909 812.083,384.909 L786.926,384.909 C780.819,384.909 775.869,380.092 775.869,374.15 L775.869,302.355 C775.869,296.413 780.819,291.597 786.926,291.597 z" fill="#008000"/>\n        <path d="M786.926,291.597 L812.083,291.597 C818.19,291.597 823.141,296.413 823.141,302.355 L823.141,374.15 C823.141,380.092 818.19,384.909 812.083,384.909 L786.926,384.909 C780.819,384.909 775.869,380.092 775.869,374.15 L775.869,302.355 C775.869,296.413 780.819,291.597 786.926,291.597 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="core">\n      <path d="M869.29,279.265 C886.885,279.265 901.148,305.674 901.148,338.253 C901.148,370.831 886.885,397.241 869.29,397.241 C862.033,397.14 856.035,392.784 851.656,387.306 C847.349,392.99 841.219,396.904 834.021,397.241 C816.427,397.241 802.164,370.831 802.164,338.253 C802.164,305.674 816.427,279.265 834.021,279.265 C841.278,279.365 847.276,283.721 851.656,289.199 C855.963,283.515 862.093,279.602 869.29,279.265 z" fill="#0CB04B"/>\n      <path d="M869.29,279.265 C886.885,279.265 901.148,305.674 901.148,338.253 C901.148,370.831 886.885,397.241 869.29,397.241 C862.033,397.14 856.035,392.784 851.656,387.306 C847.349,392.99 841.219,396.904 834.021,397.241 C816.427,397.241 802.164,370.831 802.164,338.253 C802.164,305.674 816.427,279.265 834.021,279.265 C841.278,279.365 847.276,283.721 851.656,289.199 C855.963,283.515 862.093,279.602 869.29,279.265 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 851.544, 378.284)" id="center">\n      <tspan x="-10.509" y="4.5" font-family="Arial-BoldMT" font-size="14" fill="#000000">P</tspan>\n      <tspan x="-1.171" y="4.5" font-family="Arial-BoldMT" font-size="7" fill="#000000">700</tspan>\n    </text>\n    <g id="cofactors">\n      <text transform="matrix(1, 0, 0, 1, 839.873, 310.422)">\n        <tspan x="-5.055" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">F</tspan>\n        <tspan x="1.053" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">A</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 855.114, 296.961)">\n        <tspan x="-5.055" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">F</tspan>\n        <tspan x="1.053" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">B</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 851.544, 325.517)">\n        <tspan x="-5.055" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">F</tspan>\n        <tspan x="1.053" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">X</tspan>\n      </text>\n      <path d="M845.989,318.422 L841.815,314.773" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M844.714,303.422 L848.888,299.835" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M839.814,378.658 L828.749,364.75" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M875.91,364.75 L864.844,378.658" fill-opacity="0" stroke="#000000" stroke-width="1" stroke-dasharray="2,2"/>\n      <path d="M825.237,354.881 L828.748,338.892" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M836.778,331.271 L845.329,327.239" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <text transform="matrix(1, 0, 0, 1, 827.814, 334.111)">\n        <tspan x="-7.004" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">A</tspan>\n        <tspan x="-0.334" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">1B</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 825.167, 360.584)">\n        <tspan x="-7.004" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">A</tspan>\n        <tspan x="-0.334" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">0B</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 877.883, 334.726)">\n        <tspan x="-7.004" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">A</tspan>\n        <tspan x="-0.334" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">1A</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 879.769, 360.584)">\n        <tspan x="-7.004" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">A</tspan>\n        <tspan x="-0.334" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">0A</tspan>\n      </text>\n      <path d="M859.33,327.239 L867.88,331.271" fill-opacity="0" stroke="#000000" stroke-width="1" stroke-dasharray="2,2"/>\n      <path d="M875.91,338.892 L879.422,354.881" fill-opacity="0" stroke="#000000" stroke-width="1" stroke-dasharray="2,2"/>\n    </g>\n    <g id="light">\n      <path d="M782.7,275.747 L765.376,255.981 L771.055,253.128 L757.394,229.837 L730.296,245.066 L754.259,261.862 L746.255,267.226 L769.287,283.728 L762.321,286.945 L799.497,313.819 L777.083,279.153 L782.7,275.747 z" fill="#FFEC7F"/>\n      <path d="M757.394,229.837 L771.055,253.128 L765.376,255.981 L782.7,275.747 L782.7,275.747 L777.083,279.153 L799.497,313.819 L762.321,286.945 L769.286,283.728 L746.255,267.226 L754.259,261.862 L730.296,245.066 L757.394,229.837 z M757.028,231.19 L732.171,245.159 L754.833,261.043 L756.027,261.881 L754.815,262.693 L748.01,267.253 L769.869,282.915 L771.265,283.915 L769.706,284.635 L764.292,287.136 L795.763,309.885 L776.243,279.696 L775.684,278.832 L776.564,278.298 L781.163,275.51 L764.624,256.641 L763.772,255.668 L764.927,255.088 L769.652,252.714 L757.028,231.19 z" fill="#000000"/>\n    </g>\n    <g id="label">\n      <text transform="matrix(1, 0, 0, 1, 848.998, 574.538)">\n        <tspan x="-66.527" y="4.5" font-family="Arial,ArialMT" font-size="21" fill="#000000">Photosystem I</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',kn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.center,n=void 0!==e&&e,i=t.light,r=void 0===i||i,o=t.cofactors,s=void 0!==o&&o,a=t.antenna,l=void 0===a||a,h=t.lightColor,c=void 0===h?"#FFEC7F":h,u=t.lightSize,f=void 0===u?1:u,p=t.coreColor,d=void 0===p?"#0CB04B":p,m=t.antennaColor,y=void 0===m?"#008000":m,g=t.label,v=void 0===g||g,b=t.position,x=void 0===b?null:b,w=We();if(w.svg(_n),d&&w.find("#photosystem-i #core path").forEach((function(t){return t.fill(d)})),y&&w.find("#photosystem-i #antenna path").forEach((function(t){return t.fill(y)})),c&&w.findOne("#photosystem-i #light path").fill(c),r||w.findOne("#photosystem-i #light").opacity(0),n||w.findOne("#photosystem-i #center").opacity(0),s||w.findOne("#photosystem-i #cofactors").opacity(0),l||w.findOne("#photosystem-i #antenna").opacity(0),v||w.findOne("#photosystem-i #label").opacity(0),f&&w.findOne("#photosystem-i #light").transform({origin:"bottom right",scale:Number(f)}),x){var C=w.findOne("#photosystem-i");C.transform({translateX:x-C.x()})}return w.findOne("svg").svg(!1)},Ln='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <defs>\n    <pattern id="Pattern_1" patternUnits="userSpaceOnUse" x="227.713" y="51.755" width="40" height="40" patternTransform="matrix(0.29, 0, 0, 0.29, 0, 0)">\n      <g transform="translate(-0, -0)">\n        <path d="M40,0 L0,0 L0,40 L40,40 L40,0 z" fill="#BFBFBF"/>\n        <path d="M30,0 L40,10 L40,0 L30,0 z" fill="#808080"/>\n        <path d="M0,40 L0,30 L10,40 L0,40 z" fill="#808080"/>\n        <path d="M30,40 L40,40 L40,30 L10,0 L0,0 L0,10" fill="#808080"/>\n      </g>\n    </pattern>\n  </defs>\n  <g id="photosystem-ii-repair" transform="translate(0, 0)">\n    <g id="core">\n      <path d="M279.906,51.517 C288.842,51.623 295.177,58.023 299.897,64.925 C290.659,66.659 285.627,75.039 285.22,83.924 C285.221,94.604 293.067,103.261 302.747,103.261 C305.751,103.28 307.465,102.621 310.077,101.404 C310.186,103.313 310.129,102.064 310.173,105.154 C310.122,119.439 304.257,142.573 293.484,152.939 C303.059,155.695 312.471,161.08 313.12,171.324 C313.12,183.2 301.054,192.827 286.169,192.827 C281.221,192.788 276.256,191.812 271.878,189.454 C267.545,191.967 262.502,192.628 257.588,192.827 C242.703,192.827 230.637,183.2 230.637,171.324 C231.039,163.41 235.938,161.4 241.853,156.682 L241.601,156.288 C244.383,159.803 248.31,162.117 252.796,162.371 C266.372,162.371 277.379,137.721 277.379,107.313 C276.802,91.44 275.15,71.912 264.517,58.977 C268.591,54.468 273.945,52.108 279.906,51.517 L279.906,51.517 z" fill="#B4D66F"/>\n      <path d="M279.906,51.517 C288.842,51.623 295.177,58.023 299.897,64.925 C290.659,66.659 285.627,75.039 285.22,83.924 C285.221,94.604 293.067,103.261 302.747,103.261 C305.751,103.28 307.465,102.621 310.077,101.404 C310.186,103.313 310.129,102.064 310.173,105.154 C310.122,119.439 304.257,142.573 293.484,152.939 C303.059,155.695 312.471,161.08 313.12,171.324 C313.12,183.2 301.054,192.827 286.169,192.827 C281.221,192.788 276.256,191.812 271.878,189.454 C267.545,191.967 262.502,192.628 257.588,192.827 C242.703,192.827 230.637,183.2 230.637,171.324 C231.039,163.41 235.938,161.4 241.853,156.682 L241.601,156.288 C244.383,159.803 248.31,162.117 252.796,162.371 C266.372,162.371 277.379,137.721 277.379,107.313 C276.802,91.44 275.15,71.912 264.517,58.977 C268.591,54.468 273.945,52.108 279.906,51.517 L279.906,51.517 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <g id="d1">\n      <g id="photosystem-ii-repair-d1">\n        <path d="M252.296,161.871 C238.719,161.871 227.713,137.221 227.713,106.813 C227.713,76.405 238.719,51.755 252.296,51.755 C265.872,51.755 276.879,76.405 276.879,106.813 C276.879,137.221 265.872,161.871 252.296,161.871 z" fill="url(#Pattern_1)"/>\n        <path d="M252.296,161.871 C238.719,161.871 227.713,137.221 227.713,106.813 C227.713,76.405 238.719,51.755 252.296,51.755 C265.872,51.755 276.879,76.405 276.879,106.813 C276.879,137.221 265.872,161.871 252.296,161.871 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 251.954, 140.33)">\n        <tspan x="-8.948" y="4.5" font-family="Arial,ArialMT" font-size="14" fill="#000000">D1</tspan>\n      </text>\n    </g>\n    <g id="antenna">\n      <g id="lhcb">\n        <path d="M199.103,64.684 L224.26,64.684 C230.367,64.684 235.318,69.225 235.318,74.826 L235.318,142.51 C235.318,148.112 230.367,152.652 224.26,152.652 L199.103,152.652 C192.996,152.652 188.045,148.112 188.045,142.51 L188.045,74.826 C188.045,69.225 192.996,64.684 199.103,64.684 z" fill="#8BC300"/>\n        <path d="M199.103,64.684 L224.26,64.684 C230.367,64.684 235.318,69.225 235.318,74.826 L235.318,142.51 C235.318,148.112 230.367,152.652 224.26,152.652 L199.103,152.652 C192.996,152.652 188.045,148.112 188.045,142.51 L188.045,74.826 C188.045,69.225 192.996,64.684 199.103,64.684 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="lhcb">\n        <path d="M162.104,64.684 L187.261,64.684 C193.368,64.684 198.319,69.225 198.319,74.826 L198.319,142.51 C198.319,148.112 193.368,152.652 187.261,152.652 L162.104,152.652 C155.997,152.652 151.046,148.112 151.046,142.51 L151.046,74.826 C151.046,69.225 155.997,64.684 162.104,64.684 z" fill="#8BC300"/>\n        <path d="M162.104,64.684 L187.261,64.684 C193.368,64.684 198.319,69.225 198.319,74.826 L198.319,142.51 C198.319,148.112 193.368,152.652 187.261,152.652 L162.104,152.652 C155.997,152.652 151.046,148.112 151.046,142.51 L151.046,74.826 C151.046,69.225 155.997,64.684 162.104,64.684 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="cycle">\n      <g>\n        <path d="M386.992,257.171 C392.09,218.842 396.374,189.139 383.483,161.597 C372.141,137.364 356.506,120.434 327.632,111.689" fill-opacity="0" stroke="#B4D66F" stroke-width="4" stroke-dasharray="12,4"/>\n        <path d="M386.992,257.171 L382.647,253.376 L385.747,266.69 L392.166,254.621 z" fill="#B4D66F" fill-opacity="1" stroke="#B4D66F" stroke-width="4" stroke-opacity="1"/>\n      </g>\n      <g>\n        <path d="M194.942,180.037 C170.999,199.57 168.196,215.87 172.831,236.127 C178.75,261.991 183.746,269.985 201.233,281.773" fill-opacity="0" stroke="#983432" stroke-width="4" stroke-dasharray="12,4"/>\n        <path d="M194.942,180.037 L195.274,185.796 L202.609,174.261 L189.498,178.129 z" fill="#983432" fill-opacity="1" stroke="#983432" stroke-width="4" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 138.727, 196.734)">\n        <tspan x="-25.938" y="4.5" font-family="Arial,ArialMT" font-size="14" fill="#000000">damage</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 414.208, 173.962)">\n        <tspan x="-19.114" y="4.5" font-family="Arial,ArialMT" font-size="14" fill="#000000">repair</tspan>\n      </text>\n    </g>\n    <g id="light">\n      <path d="M161.912,52.225 L144.588,32.459 L150.267,29.606 L136.606,6.315 L109.508,21.544 L133.471,38.34 L125.467,43.703 L148.498,60.205 L141.533,63.422 L178.709,90.296 L156.295,55.631 L161.912,52.225 z" fill="#FFEC7F"/>\n      <path d="M136.606,6.315 L150.267,29.606 L144.588,32.459 L161.912,52.225 L161.912,52.225 L156.294,55.631 L178.708,90.296 L141.533,63.422 L148.498,60.205 L125.467,43.703 L133.471,38.34 L109.508,21.544 L136.606,6.315 z M136.24,7.668 L111.383,21.637 L134.044,37.521 L135.239,38.358 L134.027,39.17 L127.223,43.731 L149.081,59.392 L150.477,60.393 L148.918,61.113 L143.504,63.613 L174.975,86.363 L155.455,56.174 L154.896,55.309 L155.776,54.776 L160.374,51.987 L143.836,33.118 L142.984,32.146 L144.139,31.565 L148.864,29.191 L136.24,7.668 z" fill="#000000"/>\n    </g>\n  </g>\n</svg>\n',Mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.coreColor,n=void 0===e?"#B4D66F":e,i=t.lightColor,r=void 0===i?"#FFEC7F":i,o=t.lightSize,s=void 0===o?1:o,a=t.antennaColor,l=void 0===a?"#8BC300":a,h=t.d1,c=void 0===h||h,u=t.antenna,f=void 0===u||u,p=t.cycle,d=void 0===p||p,m=t.light,y=void 0===m||m,g=t.position,v=void 0===g?null:g,b=We();if(b.svg(Ln),n&&b.findOne("#photosystem-ii-repair #core path").fill(n),r&&b.findOne("#photosystem-ii-repair #light path").fill(r),l&&b.find("#photosystem-ii-repair #antenna path").forEach((function(t){return t.fill(l)})),d||b.findOne("#photosystem-ii-repair #cycle").opacity(0),c||b.findOne("#photosystem-ii-repair #d1").opacity(0),f||b.findOne("#photosystem-ii-repair #antenna").opacity(0),y||b.findOne("#photosystem-ii-repair #light").opacity(0),s&&b.findOne("#photosystem-ii-repair #light").transform({origin:"bottom right",scale:Number(s)}),v){var x=b.findOne("#photosystem-ii-repair");x.transform({translateX:v-x.x()})}return b.findOne("svg").svg(!1)},An='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="photosystem-ii" transform="translate(0, 0)">\n    <g id="fluorescence">\n      <path d="M331.952,220.062 C336.305,226.505 338.122,223.592 339.949,227.289 C341.176,229.771 341.356,230.994 339.036,233.332 C337.741,234.529 336.758,236.616 337.815,238.755 C338.873,240.894 340.763,241.464 342.864,241.078 C344.608,240.757 346.856,241.262 347.914,243.401 C348.971,245.54 347.922,247.608 346.693,248.824 C345.274,250.227 344.416,252.107 345.473,254.246 C346.53,256.385 348.897,256.826 350.522,256.57 C352.248,256.298 354.514,256.754 355.571,258.893 C356.629,261.032 355.62,263.111 354.351,264.316 C352.79,265.797 352.073,267.599 353.131,269.738 C354.188,271.877 355.902,272.456 358.18,272.062 C359.916,271.761 362.172,272.246 363.229,274.385 C364.286,276.524 364.395,277.602 362.009,279.807 C360.714,281.004 359.731,283.091 360.788,285.23 C361.846,287.369 363.736,287.94 365.837,287.553 C367.581,287.233 369.829,287.738 370.887,289.877 C371.944,292.016 370.895,294.084 369.666,295.299 C368.247,296.702 367.389,298.583 368.446,300.722 C369.503,302.861 371.87,303.301 373.495,303.045 C375.221,302.773 377.487,303.23 378.544,305.369 C379.602,307.508 378.593,309.586 377.324,310.791 C375.763,312.273 375.046,314.075 376.104,316.214 C377.161,318.352 378.875,318.931 381.153,318.537 C382.889,318.236 385.145,318.721 386.202,320.86 C387.259,322.999 384.481,324.803 384.982,326.283" fill-opacity="0" stroke="#EF2D37" stroke-width="2"/>\n      <path d="M331.952,220.062 L336.262,220.433 L328.486,213.751 L329.952,223.899 z" fill="#EF2D37" fill-opacity="1" stroke="#EF2D37" stroke-width="2" stroke-opacity="1"/>\n    </g>\n    <g id="core">\n      <path d="M395.811,281.773 C404.748,281.879 411.083,288.279 415.802,295.181 C406.565,296.915 401.533,305.296 401.126,314.18 C401.126,324.86 408.973,333.517 418.652,333.517 C421.657,333.536 423.371,332.878 425.982,331.661 C426.091,333.569 426.034,332.32 426.078,335.411 C426.027,349.696 420.163,372.829 409.389,383.195 C418.965,385.952 428.377,391.336 429.026,401.581 C429.026,413.456 416.959,423.083 402.074,423.083 C397.126,423.044 392.162,422.068 387.784,419.71 C383.45,422.223 378.407,422.885 373.493,423.083 C358.609,423.083 346.542,413.456 346.542,401.581 C346.945,393.666 351.844,391.657 357.758,386.938 C348.423,373.186 344.484,354.49 344.118,338.253 C344.118,307.845 355.125,283.194 368.701,283.194 C373.362,283.288 377.246,286.053 380.114,289.542 C384.329,284.992 389.565,282.053 395.811,281.773 L395.811,281.773 z" fill="#B4D66F"/>\n      <path d="M395.811,281.773 C404.748,281.879 411.083,288.279 415.802,295.181 C406.565,296.915 401.533,305.296 401.126,314.18 C401.126,324.86 408.973,333.517 418.652,333.517 C421.657,333.536 423.371,332.878 425.982,331.661 C426.091,333.569 426.034,332.32 426.078,335.411 C426.027,349.696 420.163,372.829 409.389,383.195 C418.965,385.952 428.377,391.336 429.026,401.581 C429.026,413.456 416.959,423.083 402.074,423.083 C397.126,423.044 392.162,422.068 387.784,419.71 C383.45,422.223 378.407,422.885 373.493,423.083 C358.609,423.083 346.542,413.456 346.542,401.581 C346.945,393.666 351.844,391.657 357.758,386.938 C348.423,373.186 344.484,354.49 344.118,338.253 C344.118,307.845 355.125,283.194 368.701,283.194 C373.362,283.288 377.246,286.053 380.114,289.542 C384.329,284.992 389.565,282.053 395.811,281.773 L395.811,281.773 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <g id="antenna">\n      <g id="lhcb">\n        <path d="M315.009,292.94 L340.166,292.94 C346.273,292.94 351.224,297.481 351.224,303.083 L351.224,370.767 C351.224,376.368 346.273,380.909 340.166,380.909 L315.009,380.909 C308.902,380.909 303.951,376.368 303.951,370.767 L303.951,303.083 C303.951,297.481 308.902,292.94 315.009,292.94 z" fill="#8CC400"/>\n        <path d="M315.009,292.94 L340.166,292.94 C346.273,292.94 351.224,297.481 351.224,303.083 L351.224,370.767 C351.224,376.368 346.273,380.909 340.166,380.909 L315.009,380.909 C308.902,380.909 303.951,376.368 303.951,370.767 L303.951,303.083 C303.951,297.481 308.902,292.94 315.009,292.94 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <g id="lhcb">\n        <path d="M280.01,292.94 L305.167,292.94 C311.274,292.94 316.225,297.481 316.225,303.083 L316.225,370.767 C316.225,376.368 311.274,380.909 305.167,380.909 L280.01,380.909 C273.903,380.909 268.952,376.368 268.952,370.767 L268.952,303.083 C268.952,297.481 273.903,292.94 280.01,292.94 z" fill="#8CC400"/>\n        <path d="M280.01,292.94 L305.167,292.94 C311.274,292.94 316.225,297.481 316.225,303.083 L316.225,370.767 C316.225,376.368 311.274,380.909 305.167,380.909 L280.01,380.909 C273.903,380.909 268.952,376.368 268.952,370.767 L268.952,303.083 C268.952,297.481 273.903,292.94 280.01,292.94 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n    </g>\n    <g id="water-split">\n      <text transform="matrix(1, 0, 0, 1, 352.14, 464.889)">\n        <tspan x="-23.062" y="8.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">HO</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 421.816, 464.889)">\n        <tspan x="-14.396" y="8.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">O</tspan>\n      </text>\n      <g>\n        <path d="M353.376,448.164 C353.363,428.717 367.707,412.942 385.413,412.93 C400.189,412.92 412.638,423.889 416.362,438.821" fill-opacity="0" stroke="#3A658B" stroke-width="3"/>\n        <path d="M416.362,438.821 L411.854,436.551 L417.381,447.159 L420.192,435.532 z" fill="#3A658B" fill-opacity="1" stroke="#3A658B" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 503.931, 492.677)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 384.586, 374.195)" id="photosystem-ii-center">\n      <tspan x="-10.509" y="4.5" font-family="Arial-BoldMT" font-size="14" fill="#000000">P</tspan>\n      <tspan x="-1.171" y="4.5" font-family="Arial-BoldMT" font-size="7" fill="#000000">680</tspan>\n    </text>\n    <g id="cofactors">\n      <text transform="matrix(1, 0, 0, 1, 371.868, 391.909)">\n        <tspan x="-5.657" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">Y</tspan>\n        <tspan x="1.013" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">z</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 398.541, 403.233)">\n        <tspan x="-15.447" y="2.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">CaMn</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 391.413, 317.33)">\n        <tspan x="-5.89" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">Q</tspan>\n        <tspan x="1.888" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">B</tspan>\n      </text>\n      <path d="M382.041,400.106 L377.867,396.458" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M374.577,365.344 L367.782,356.562" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M364.772,344.205 L367.782,330.704" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <path d="M375.812,323.083 L384.362,319.051" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n      <text transform="matrix(1, 0, 0, 1, 365.733, 325.923)">\n        <tspan x="-5.89" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">Q</tspan>\n        <tspan x="1.888" y="1.5" font-family="Arial,ArialMT" font-size="6" fill="#000000">A</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 369.095, 352.397)">\n        <tspan x="-11.898" y="1.5" font-family="Arial,ArialMT" font-size="10" fill="#000000">Pheo</tspan>\n      </text>\n      <path d="M377.53,386.298 L383.103,381.544" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    </g>\n    <g id="light">\n      <path d="M289.026,275.747 L271.702,255.981 L277.381,253.128 L263.72,229.837 L236.622,245.066 L260.584,261.862 L252.581,267.226 L275.612,283.728 L268.647,286.945 L305.822,313.819 L283.408,279.153 L289.026,275.747 z" fill="#FFEC7F"/>\n      <path d="M263.72,229.837 L277.381,253.128 L271.702,255.981 L289.026,275.747 L289.026,275.747 L283.408,279.153 L305.822,313.819 L268.647,286.945 L275.612,283.728 L252.581,267.226 L260.584,261.862 L236.622,245.066 L263.72,229.837 z M263.354,231.19 L238.497,245.159 L261.158,261.043 L262.353,261.881 L261.141,262.693 L254.336,267.253 L276.195,282.915 L277.591,283.915 L276.031,284.635 L270.618,287.136 L302.088,309.885 L282.569,279.696 L282.01,278.832 L282.89,278.298 L287.488,275.51 L270.949,256.641 L270.098,255.668 L271.253,255.088 L275.978,252.714 L263.354,231.19 z" fill="#000000"/>\n    </g>\n    <g id="label">\n      <text transform="matrix(1, 0, 0, 1, 379.998, 574.538)">\n        <tspan x="-69.445" y="4.5" font-family="Arial,ArialMT" font-size="21" fill="#000000">Photosystem II</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',On=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.coreColor,n=void 0===e?"#B4D66F":e,i=t.lightColor,r=void 0===i?"#FFEC7F":i,o=t.lightSize,s=void 0===o?1:o,a=t.antennaColor,l=void 0===a?"#8BC300":a,h=t.antenna,c=void 0===h||h,u=t.light,f=void 0===u||u,p=t.cofactors,d=void 0!==p&&p,m=t.center,y=void 0!==m&&m,g=t.reaction,v=void 0===g||g,b=t.fluorescence,x=void 0!==b&&b,w=t.label,C=void 0===w||w,_=t.position,k=void 0===_?null:_,L=We();if(L.svg(An),n&&L.findOne("#photosystem-ii #core path").fill(n),r&&L.findOne("#photosystem-ii #light path").fill(r),l&&L.find("#photosystem-ii #antenna path").forEach((function(t){return t.fill(l)})),d||L.findOne("#photosystem-ii #cofactors").opacity(0),y||L.findOne("#photosystem-ii-center").opacity(0),c||L.findOne("#photosystem-ii #antenna").opacity(0),f||L.findOne("#photosystem-ii #light").opacity(0),v||L.findOne("#photosystem-ii #water-split").opacity(0),C||L.findOne("#photosystem-ii #label").opacity(0),x||L.findOne("#photosystem-ii #fluorescence").opacity(0),s&&L.findOne("#photosystem-ii #light").transform({origin:"bottom right",scale:Number(s)}),k){var M=L.findOne("#photosystem-ii");M.transform({translateX:k-M.x()})}return L.findOne("svg").svg(!1)},Tn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="plastocyanin" transform="translate(0, 0)">\n    <g id="shape">\n      <path d="M765.396,461.225 C755.975,461.225 748.337,453.587 748.337,444.165 C748.337,434.744 755.975,427.106 765.396,427.106 C774.818,427.106 782.456,434.744 782.456,444.165 C782.456,453.587 774.818,461.225 765.396,461.225 z" fill="#5B9BD5"/>\n      <path d="M765.396,461.225 C755.975,461.225 748.337,453.587 748.337,444.165 C748.337,434.744 755.975,427.106 765.396,427.106 C774.818,427.106 782.456,434.744 782.456,444.165 C782.456,453.587 774.818,461.225 765.396,461.225 z" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    </g>\n    <g id="cofactor">\n      <text transform="matrix(1, 0, 0, 1, 774.896, 438.433)">\n        <tspan x="-14.586" y="5.378" font-family="Arial,ArialMT" font-size="10" fill="#000000">Cu</tspan>\n      </text>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 768.896, 480.233)">\n      <tspan x="-14.586" y="5.378" font-family="Arial,ArialMT" font-size="21" fill="#000000">Pc</tspan>\n    </text>\n  </g>\n</svg>\n',zn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#5B9BD5":e,i=t.cofactor,r=void 0!==i&&i,o=t.label,s=void 0===o||o,a=t.position,l=void 0===a?null:a,h=We();if(h.svg(Tn),h.findOne("#plastocyanin #shape path").fill(n),r||h.findOne("#plastocyanin #cofactor").opacity(0),s||h.findOne("#plastocyanin > text").opacity(0),l){var c=h.findOne("#plastocyanin");c.transform({translateX:l-c.x()})}return h.findOne("svg").svg(!1)},Dn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="plastoquinone" transform="translate(0, 0)">\n    <g id="shape">\n      <path d="M519.983,354.984 L510.134,337.925 L519.983,320.865 L539.681,320.865 L549.53,337.925 L539.681,354.984 z" fill="#FFE698"/>\n      <path d="M519.983,354.984 L510.134,337.925 L519.983,320.865 L539.681,320.865 L549.53,337.925 L539.681,354.984 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 529.332, 390.225)">\n      <tspan x="-45.271" y="5.689" font-family="Arial,ArialMT" font-size="21" fill="#000000">PQ/PQH</tspan>\n    </text>\n  </g>\n</svg>\n',Fn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#FFE698":e,i=t.label,r=void 0===i||i,o=t.position,s=void 0===o?null:o,a=We();if(a.svg(Dn),a.findOne("#plastoquinone #shape path").fill(n),r||a.findOne("#plastoquinone text").opacity(0),s){var l=a.findOne("#plastoquinone");l.transform({translateX:s-l.x()})}return a.findOne("svg").svg(!1)},Sn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="proton-flux" transform="translate(0, 0)">\n    <g>\n      <g id="ps-ii-atp-synthase">\n        <path d="M997.144,487.575 C918.689,503.493 853.657,513.312 766.726,513.312 C664.863,513.312 581.4,508.078 522.072,496.247" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M997.144,487.575 L995.242,492.251 L1005.374,485.892 L993.559,484.021 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <g id="h2o_lumen">\n        <path d="M489.463,462.261 C480.427,446.861 450.435,434.397 427.051,425.211" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M489.463,462.261 L484.632,460.797 L491.895,470.301 L492.672,458.365 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n    </g>\n    <g id="atp-synthase">\n      <g>\n        <path d="M1124.963,99.587 C1103.894,118.51 1091.082,134.839 1091.082,156.221 L1091.082,407.359 C1091.082,434.065 1067.677,456.142 1050.138,471.697" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M1124.963,99.587 L1125.626,104.591 L1131.28,94.05 L1120.089,98.274 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 1151.418, 85.829)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 1030.685, 480.747)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n    </g>\n    <g id="stroma-ps-ii">\n      <g>\n        <path d="M415.571,253.347 C414.877,268.923 422.449,282.144 430.181,292.514" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M430.181,292.514 L425.149,292.917 L435.383,299.109 L431.745,287.714 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 420.743, 237.847)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n    </g>\n    <g id="stroma-b6f">\n      <g>\n        <path d="M626.694,254.347 C627.388,269.923 619.816,283.144 612.084,293.514" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M612.084,293.514 L610.52,288.714 L606.882,300.109 L617.115,293.917 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 631.035, 238.847)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n    </g>\n    <g id="b6f-lumen">\n      <g>\n        <path d="M628.978,366.195 C599.455,375.608 595.214,405.38 621.862,421.125" fill-opacity="0" stroke="#00BCFF" stroke-width="3"/>\n        <path d="M621.862,421.125 L617.513,423.689 L629.425,424.78 L621.168,416.126 z" fill="#00BCFF" fill-opacity="1" stroke="#00BCFF" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 652.013, 433.79)">\n        <tspan x="-13.729" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">H</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',jn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.atp_synthase,n=void 0===e||e,i=t.stroma_ps_ii,r=void 0===i||i,o=t.stroma_b6f,s=void 0===o||o,a=t.b6f_lumen,l=void 0===a||a,h=t.ps_ii_atp_synthase,c=void 0===h||h,u=t.h2o_lumen,f=void 0===u||u,p=t.position,d=void 0===p?null:p,m=We();if(m.svg(Sn),n||m.findOne("#atp-synthase").opacity(0),r||m.findOne("#stroma-ps-ii").opacity(0),s||m.findOne("#stroma-b6f").opacity(0),l||m.findOne("#b6f-lumen").opacity(0),c||m.findOne("#ps-ii-atp-synthase").opacity(0),f||m.findOne("#h2o_lumen").opacity(0),d){var y=m.findOne("#proton-flux");y.transform({translateX:d-y.x()})}return m.findOne("svg").svg(!1)},En='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="ptox" transform="translate(0, 0)">\n    <g id="shape">\n      <path d="M529.832,302.301 C511.558,302.301 496.745,292.471 496.745,280.346 C496.745,268.22 511.558,258.39 529.832,258.39 C548.106,258.39 562.919,268.22 562.919,280.346 C562.919,292.471 548.106,302.301 529.832,302.301 z" fill="#C2AAFF"/>\n      <path d="M529.832,302.301 C511.558,302.301 496.745,292.471 496.745,280.346 C496.745,268.22 511.558,258.39 529.832,258.39 C548.106,258.39 562.919,268.22 562.919,280.346 C562.919,292.471 548.106,302.301 529.832,302.301 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n    </g>\n    <text transform="matrix(1, 0, 0, 1, 529.332, 279.846)">\n      <tspan x="-24.341" y="5.5" font-family="Arial,ArialMT" font-size="18" fill="#000000">PTOX</tspan>\n    </text>\n    <g id="reaction">\n      <g>\n        <path d="M561.614,243.741 C551.06,257.538 541.669,265.828 529.576,265.828 C513.595,265.828 500.385,248.871 491.077,236.166" fill-opacity="0" stroke="#41719C" stroke-width="3"/>\n        <path d="M561.614,243.741 L563.345,248.483 L566.582,236.968 L556.571,243.515 z" fill="#41719C" fill-opacity="1" stroke="#41719C" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 490.177, 214.32)">\n        <tspan x="-14.396" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">O</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 570.337, 214.32)">\n        <tspan x="-23.062" y="8" font-family="Arial,ArialMT" font-size="24" fill="#000000">HO</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',Pn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.reaction,n=void 0===e||e,i=t.color,r=void 0===i?"#C2AAFF":i,o=t.position,s=void 0===o?null:o,a=We();if(a.svg(En),r&&a.findOne("#ptox #shape path").fill(r),n||a.findOne("#ptox #reaction").opacity(0),s){var l=a.findOne("#ptox");l.transform({translateX:s-l.x()})}return a.findOne("svg").svg(!1)},Bn='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="quenching" transform="translate(0, 0)">\n    <g id="pmf">\n      <g>\n        <path d="M134.204,442.013 C167.869,484.817 173.944,489.253 214.047,506.28 C248.338,520.839 363.007,515.226 393.063,515.933" fill-opacity="0" stroke="#EF2D37" stroke-width="4" stroke-dasharray="12,4"/>\n        <path d="M134.204,442.013 L139.956,441.572 L128.283,434.456 L132.398,447.492 z" fill="#EF2D37" fill-opacity="1" stroke="#EF2D37" stroke-width="4" stroke-opacity="1"/>\n      </g>\n      <g>\n        <path d="M260.647,406.851 C273.605,452.142 303.979,490.827 345.682,509.239 C381.841,525.203 455.614,508.552 480.194,498.857" fill-opacity="0" stroke="#EF2D37" stroke-width="4" stroke-dasharray="12,4"/>\n        <path d="M260.647,406.851 L266.082,408.783 L258.306,397.54 L256.772,411.125 z" fill="#EF2D37" fill-opacity="1" stroke="#EF2D37" stroke-width="4" stroke-opacity="1"/>\n      </g>\n    </g>\n    <g id="qi">\n      <text transform="matrix(1, 0, 0, 1, 84.384, 180.776)">\n        <tspan x="-10.008" y="7.455" font-family="Arial,ArialMT" font-size="24" fill="#000000">qI</tspan>\n      </text>\n      <g>\n        <path d="M114.6,163.212 L144.5,139.069" fill-opacity="0" stroke="#EF2D37" stroke-width="4" stroke-dasharray="8,8"/>\n        <path d="M114.6,163.212 L114.074,157.468 L107.131,169.244 L120.105,164.937 z" fill="#EF2D37" fill-opacity="1" stroke="#EF2D37" stroke-width="4" stroke-opacity="1"/>\n      </g>\n    </g>\n    <g id="qe">\n      <g>\n        <path d="M205.418,405.643 L235.318,381.499" fill-opacity="0" stroke="#EF2D37" stroke-width="4" stroke-dasharray="8,8"/>\n        <path d="M205.418,405.643 L204.892,399.898 L197.949,411.674 L210.923,407.367 z" fill="#EF2D37" fill-opacity="1" stroke="#EF2D37" stroke-width="4" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 181.616, 428.793)">\n        <tspan x="-14.678" y="7.455" font-family="Arial,ArialMT" font-size="24" fill="#000000">qE</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',In=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.qe,n=void 0===e||e,i=t.qi,r=void 0===i||i,o=t.pmf,s=void 0===o||o,a=t.position,l=void 0===a?null:a,h=We();if(h.svg(Bn),n||h.findOne("#quenching #qe").opacity(0),r||h.findOne("#quenching #qi").opacity(0),s||h.findOne("#quenching #pmf").opacity(0),l){var c=h.findOne("#quenching");c.transform({translateX:l-c.x()})}return h.findOne("svg").svg(!1)},Nn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#0070C4":e,i=t.label,r=void 0===i?"stroma":i,o=t.showLabel,s=void 0===o||o,a=We();a.svg('<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <defs>\n    <linearGradient id="Gradient_1" gradientUnits="userSpaceOnUse" x1="700" y1="0" x2="700" y2="296.004">\n      <stop offset="0.566" stop-color="#FFFFFF" stop-opacity="1"/>\n      <stop offset="1" stop-color="#0070C4"/>\n    </linearGradient>\n  </defs>\n  <g id="stroma" transform="translate(0, 0)">\n    <text transform="matrix(1, 0, 0, 1, 1355.338, 279.014)">\n      <tspan x="-34.518" y="7.212" font-family="Arial,ArialMT" font-size="24" fill="#000000">stroma</tspan>\n    </text>\n    <path d="M-0,0 L1400,0 L1400,296.004 L-0,296.004 L-0,0 z" fill="url(#Gradient_1)" id="shape" opacity="0.123"/>\n  </g>\n</svg>\n'),a.defs().find("#Gradient_1 stop").each((function(t){1==t.attr("offset")&&t.attr("stop-color",n)}));var l=a.findOne("#stroma tspan");return l.text(r),s||(l=a.findOne("#stroma text")).opacity(0),a.findOne("svg").svg(!1)},qn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,n=void 0===e?"#DBDBDB":e,i=t.border,r=void 0===i||i,o=We();return o.svg('<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="thylakoidmembrane" transform="translate(0, 0)">\n    <path d="M-0,296.004 L1400,296.004 L1400,376.004 L-0,376.004 L-0,296.004 z" fill="#DBDBDB"/>\n    <path d="M0.5,296.504 L1400.5,296.504" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n    <path d="M0.5,376.504 L1400.5,376.504" fill-opacity="0" stroke="#000000" stroke-width="1"/>\n  </g>\n</svg>\n'),o.findOne("#thylakoidmembrane path").fill(n),r||o.find("#thylakoidmembrane path").forEach((function(t){t.attr("stroke-width")>0&&t.remove()})),o.findOne("svg").svg(!1)},Un='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="1400" height="600" viewBox="0, 0, 1400, 600">\n  <g id="vdx" transform="translate(0, 0)">\n    <g id="pathway">\n      <g>\n        <path d="M67.486,315.033 C79.998,302.088 91.109,294.301 105.432,294.301 C124.28,294.301 139.86,310.091 150.838,321.922" fill-opacity="0" stroke="#41719C" stroke-width="3"/>\n        <path d="M67.486,315.033 L66.312,310.124 L61.772,321.191 L72.469,315.838 z" fill="#41719C" fill-opacity="1" stroke="#41719C" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <g>\n        <path d="M184.506,335.088 L216.647,335.088" fill-opacity="0" stroke="#41719C" stroke-width="3"/>\n        <path d="M216.647,335.088 L213.847,339.288 L225.047,335.088 L213.847,330.888 z" fill="#41719C" fill-opacity="1" stroke="#41719C" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <g>\n        <path d="M144.445,357.925 C131.933,370.871 120.823,378.657 106.499,378.657 C87.651,378.657 72.071,362.868 61.093,351.037" fill-opacity="0" stroke="#41719C" stroke-width="3"/>\n        <path d="M144.445,357.925 L145.619,362.835 L150.159,351.768 L139.462,357.121 z" fill="#41719C" fill-opacity="1" stroke="#41719C" stroke-width="3" stroke-opacity="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 45.556, 335.979)">\n        <tspan x="-8.004" y="7.455" font-family="Arial,ArialMT" font-size="24" fill="#000000">V</tspan>\n      </text>\n      <text transform="matrix(1, 0, 0, 1, 165.375, 335.979)">\n        <tspan x="-7.33" y="7.455" font-family="Arial,ArialMT" font-size="24" fill="#000000">Z</tspan>\n      </text>\n    </g>\n    <g id="vde">\n      <g>\n        <path d="M105.966,427.106 C87.692,427.106 72.878,417.276 72.878,405.151 C72.878,393.025 87.692,383.195 105.966,383.195 C124.239,383.195 139.053,393.025 139.053,405.151 C139.053,417.276 124.239,427.106 105.966,427.106 z" fill="#A9D18E"/>\n        <path d="M105.966,427.106 C87.692,427.106 72.878,417.276 72.878,405.151 C72.878,393.025 87.692,383.195 105.966,383.195 C124.239,383.195 139.053,393.025 139.053,405.151 C139.053,417.276 124.239,427.106 105.966,427.106 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 105.466, 404.651)">\n        <tspan x="-24.674" y="7.5" font-family="Arial,ArialMT" font-size="24" fill="#000000">VDE</tspan>\n      </text>\n    </g>\n    <g id="ze">\n      <g>\n        <path d="M105.966,291.597 C87.692,291.597 72.878,281.767 72.878,269.641 C72.878,257.516 87.692,247.686 105.966,247.686 C124.239,247.686 139.053,257.516 139.053,269.641 C139.053,281.767 124.239,291.597 105.966,291.597 z" fill="#FFE698"/>\n        <path d="M105.966,291.597 C87.692,291.597 72.878,281.767 72.878,269.641 C72.878,257.516 87.692,247.686 105.966,247.686 C124.239,247.686 139.053,257.516 139.053,269.641 C139.053,281.767 124.239,291.597 105.966,291.597 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 105.466, 269.141)">\n        <tspan x="-15.334" y="7.5" font-family="Arial,ArialMT" font-size="24" fill="#000000">ZE</tspan>\n      </text>\n    </g>\n    <g id="psbs">\n      <g id="psbs">\n        <path d="M245.618,293.94 L270.775,293.94 C276.882,293.94 281.833,298.481 281.833,304.083 L281.833,371.767 C281.833,377.368 276.882,381.909 270.775,381.909 L245.618,381.909 C239.511,381.909 234.56,377.368 234.56,371.767 L234.56,304.083 C234.56,298.481 239.511,293.94 245.618,293.94 z" fill="#6C9700"/>\n        <path d="M245.618,293.94 L270.775,293.94 C276.882,293.94 281.833,298.481 281.833,304.083 L281.833,371.767 C281.833,377.368 276.882,381.909 270.775,381.909 L245.618,381.909 C239.511,381.909 234.56,377.368 234.56,371.767 L234.56,304.083 C234.56,298.481 239.511,293.94 245.618,293.94 z" fill-opacity="0" stroke="#3B3838" stroke-width="1"/>\n      </g>\n      <text transform="matrix(1, 0, 0, 1, 257.822, 367.077)">\n        <tspan x="-16.731" y="4.073" font-family="Arial,ArialMT" font-size="14" fill="#000000">PsbS</tspan>\n      </text>\n    </g>\n  </g>\n</svg>\n',Gn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ze,n=void 0===e||e,i=t.vde,r=void 0===i||i,o=t.psbs,s=void 0===o||o,a=t.pathway,l=void 0===a||a,h=t.position,c=void 0===h?null:h,u=We();if(u.svg(Un),n||u.findOne("#vdx #ze").opacity(0),r||u.findOne("#vdx #vde").opacity(0),s||u.findOne("#vdx #psbs").opacity(0),l||u.findOne("#vdx #pathway").opacity(0),c){var f=u.findOne("#vdx");f.transform({translateX:c-f.x()})}return u.findOne("svg").svg(!1)};const Rn=[function(){var t=We();t.svg(sn);var e=t.findOne("#atp-synthase");return{id:"atpsynthase",headerTitle:"ATP Synthase",show:!0,options:[{type:"check",name:"subunits",value:!1,label:"Subunit Labels"},{type:"check",name:"reaction",value:!0,label:"Reaction Labels"},{type:"check",name:"label",value:!0,label:"Label"},{type:"color",name:"cRingColor",value:"#E4D3BD",label:"c-Ring"},{type:"color",name:"alphaSubunitColor",value:"#D6C2AD",label:" - Subunits"},{type:"color",name:"betaSubunitColor",value:"#C7B29E",label:" - Subunits"},{type:"color",name:"gammaSubunitColor",value:"#F6E8D7",label:" - Subunits"},{type:"color",name:"iSubunitColor",value:"#C7B29E",label:"I - Subunits"},{type:"color",name:"iiSubunitColor",value:"#E4D3BD",label:"II - Subunits"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),{id:"thylakoidmembrane",headerTitle:"Thylakoid Membrane",show:!0,options:[{type:"check",name:"border",value:!0,label:"Border"},{type:"color",name:"color",value:"#DBDBDB",label:"Background"}]},function(){var t=We();t.svg(ln);var e=t.findOne("#cytochrome-b6f");return{id:"cytochrome-b6f",headerTitle:"Cytochrome&nbsp;<em>bf</em>",show:!0,options:[{type:"check",name:"cofactors",value:!1,label:"Cofactors"},{type:"check",name:"rieske",value:!0,label:"Rieske Complex"},{type:"check",name:"label",value:!0,label:"Label"},{type:"color",name:"coreColor",value:"#B2C7DA",label:"Core Color"},{type:"color",name:"rieskeColor",value:"#B2C7DA",label:"Rieske Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(cn);var e=t.findOne("#cytochrome-c6");return{id:"cytochrome-c6",headerTitle:"Cytochrome c",show:!1,options:[{type:"check",name:"label",value:!0,label:"Label"},{type:"check",name:"cofactor",value:!1,label:"Cofactor"},{type:"color",name:"color",value:"#FF2B2B",label:"Shape Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(fn);var e=t.findOne("#electron-flux");return{id:"electron-flux",headerTitle:"Electron Flux",show:!0,options:[{type:"check",name:"ps_ii_to_pq",value:!0,label:"Photosystem II  PQ"},{type:"check",name:"flow_q_cycle",value:!0,label:"PQH  Cytochrome bf"},{type:"check",name:"b6f_to_pc",value:!0,label:"Cytochrome bf  PC"},{type:"check",name:"pc_to_ps_i",value:!0,label:"PC  Photosystem I"},{type:"check",name:"ps_i_to_fd",value:!0,label:"Photosystem I  Fd"},{type:"check",name:"fd_to_fnr",value:!0,label:"Fd  FNR"},{type:"check",name:"fd_to_cyt_b6f",value:!0,label:"Fd  Cytochrome bf"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(dn);var e=t.findOne("#ferredoxin");return{id:"ferredoxin",headerTitle:"Ferredoxin",show:!0,options:[{type:"check",name:"label",value:!0,label:"Label"},{type:"color",name:"color",value:"#A08C79",label:"Shape Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(yn);var e=t.findOne("#fnr");return{id:"fnr",headerTitle:"FNR",show:!0,options:[{type:"check",name:"reaction",value:!0,label:"Reaction"},{type:"check",name:"label",value:!0,label:"Label"},{type:"color",name:"color",value:"#EECC00",label:"Shape Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(vn);var e=t.findOne("#ion-channels");return{id:"ion-channels",headerTitle:"Ion Channels",show:!1,options:[{type:"check",name:"kChannel",value:!0,label:"K - Channel"},{type:"check",name:"caChannel",value:!0,label:"Ca - Channel"},{type:"check",name:"label",value:!0,label:"Label"},{type:"check",name:"pmf",value:!1,label:"/pH - Label"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(xn);var e=t.findOne("#ion-flux");return{id:"ion-flux",headerTitle:"Ion Flux",show:!1,options:[{type:"check",name:"kChannel",value:!0,label:"K  H"},{type:"check",name:"caChannel",value:!0,label:" Ca"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),{id:"lumen",headerTitle:"Lumen",show:!0,options:[{type:"text",name:"label",value:"lumen",label:"Label"},{type:"check",name:"showLabel",value:!0,label:"Label"},{type:"color",name:"color",value:"#FFE5E5",label:"Background"}]},function(){var t=We();t.svg(_n);var e=t.findOne("#photosystem-i");return{id:"photosystem-i",headerTitle:"Photosystem I",show:!0,options:[{type:"check",name:"center",value:!1,label:"Reaction Center"},{type:"check",name:"cofactors",value:!1,label:"Cofactors"},{type:"check",name:"light",value:!0,label:"Light"},{type:"check",name:"antenna",value:!0,label:"Antenna (LHCa)"},{type:"check",name:"label",value:!0,label:"Label"},{type:"color",name:"coreColor",value:"#0CB04B",label:"Core Color"},{type:"color",name:"lightColor",value:"#FFEC7F",label:"Light Color"},{type:"color",name:"antennaColor",value:"#008000",label:"Antenna Color"},{type:"range",name:"lightSize",value:1,label:"Light (Size)",step:"0.1",min:"0.5",max:"1.5"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(Ln);var e=t.findOne("#photosystem-ii-repair");return{id:"photosystem-ii-repair",headerTitle:"Photosystem II (repair)",show:!1,options:[{type:"check",name:"antenna",value:!0,label:"Antenna"},{type:"check",name:"light",value:!0,label:"Light"},{type:"check",name:"d1",value:!0,label:"D1 Subunit"},{type:"check",name:"cycle",value:!0,label:"Cycle Arrows"},{type:"color",name:"coreColor",value:"#B4D66F",label:"Core Color"},{type:"color",name:"lightColor",value:"#FFEC7F",label:"Light Color"},{type:"color",name:"antennaColor",value:"#8BC300",label:"Antenna Color"},{type:"range",name:"lightSize",value:1,label:"Light (Size)",step:"0.1",min:"0.5",max:"1.5"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(An);var e=t.findOne("#photosystem-ii");return{id:"photosystem-ii",headerTitle:"Photosystem II",show:!0,options:[{type:"check",name:"antenna",value:!0,label:"Antenna"},{type:"check",name:"light",value:!0,label:"Light"},{type:"check",name:"center",value:!1,label:"Reaction Center"},{type:"check",name:"cofactors",value:!1,label:"Cofactors"},{type:"check",name:"reaction",value:!0,label:"Water Split Reaction"},{type:"check",name:"label",value:!0,label:"Label"},{type:"check",name:"fluorescence",value:!1,label:"Fluorescence"},{type:"color",name:"coreColor",value:"#B4D66F",label:"Core Color"},{type:"color",name:"lightColor",value:"#FFEC7F",label:"Light Color"},{type:"color",name:"antennaColor",value:"#8BC300",label:"Antenna Color"},{type:"range",name:"lightSize",value:1,label:"Light (Size)",step:"0.1",min:"0.5",max:"1.5"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(Tn);var e=t.findOne("#plastocyanin");return{id:"plastocyanin",headerTitle:"Plastocyanin",show:!0,options:[{type:"check",name:"label",value:!0,label:"Label"},{type:"check",name:"cofactor",value:!1,label:"Cofactor"},{type:"color",name:"color",value:"#5B9BD5",label:"Shape Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(Dn);var e=t.findOne("#plastoquinone");return{id:"plastoquinone",headerTitle:"Plastoquinone",show:!0,options:[{type:"check",name:"label",value:!0,label:"Label"},{type:"color",name:"color",value:"#FFE698",label:"Shape Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(Sn);var e=t.findOne("#proton-flux");return{id:"proton-flux",headerTitle:"Proton Flux",show:!0,options:[{type:"check",name:"h2o_lumen",value:!0,label:"HO  Lumen"},{type:"check",name:"ps_ii_atp_synthase",value:!0,label:"Lumen  ATP-Synthase"},{type:"check",name:"atp_synthase",value:!0,label:"ATP-Synthase"},{type:"check",name:"stroma_ps_ii",value:!0,label:"Stroma  Photosystem II"},{type:"check",name:"stroma_b6f",value:!0,label:"Stroma   Cytochrome bf"},{type:"check",name:"b6f_lumen",value:!0,label:"Cytochrome bf  Lumen"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(En);var e=t.findOne("#ptox");return{id:"ptox",headerTitle:"PTOX",show:!1,options:[{type:"check",name:"reaction",value:!0,label:"Reaction"},{type:"color",name:"color",value:"#C2AAFF",label:"Shape Color"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),function(){var t=We();t.svg(Bn);var e=t.findOne("#quenching");return{id:"quenching",headerTitle:"Quenching",show:!1,options:[{type:"check",name:"qe",value:!0,label:"qE"},{type:"check",name:"qi",value:!0,label:"qI"},{type:"check",name:"pmf",value:!0,label:"<em>pmf</em>"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}(),{id:"stroma",headerTitle:"Stroma",show:!0,options:[{type:"text",name:"label",value:"stroma",label:"Label"},{type:"check",name:"showLabel",value:!0,label:"Label"},{type:"color",name:"color",value:"#0070C4",label:"Background Gradient"}]},{id:"thylakoidmembrane",headerTitle:"Thylakoid Membrane",show:!0,options:[{type:"check",name:"border",value:!0,label:"Border"},{type:"color",name:"color",value:"#DBDBDB",label:"Background"}]},function(){var t=We();t.svg(Un);var e=t.findOne("#vdx");return{id:"vdx",headerTitle:"VDX",show:!1,options:[{type:"check",name:"ze",value:!0,label:"ZE"},{type:"check",name:"vde",value:!0,label:"VDE"},{type:"check",name:"psbs",value:!0,label:"PsbS"},{type:"check",name:"pathway",value:!0,label:"Pathway"},{type:"range",name:"position",value:e.x(),label:"Position",step:"1",min:"0",max:1400-e.width()}]}}()];var Vn=["stroma","lumen","thylakoidmembrane","electron-flux","proton-flux","quenching","photosystem-ii","photosystem-ii-repair","plastoquinone","cytochrome-b6f","cytochrome-c6","plastocyanin","photosystem-i","atpsynthase","vdx","ferredoxin","fnr","ptox","ion-channels","ion-flux"],Xn={"Protein Complexes":["photosystem-ii","photosystem-i","cytochrome-b6f","atpsynthase","ion-channels"],"Electron Carriers":["plastoquinone","ferredoxin","cytochrome-c6","plastocyanin","fnr","ptox"],Fluxes:["electron-flux","proton-flux","ion-flux"],Regulation:["photosystem-ii-repair","vdx","quenching"],Thylakoid:["thylakoidmembrane","stroma","lumen"]};const Yn=["Kramer, D. M., Avenson, T. J. and Edwards, G. E. (2004) Dynamic flexibility in the light reactions of photosynthesis governed by both electron and proton transfer reactions. Trends Plant Sci 9, 349-357."],Hn={Complexes:[{title:"Photosystem II",settings:{"photosystem-ii":{show:!0,antenna:!0,light:!0,center:!0,cofactors:!0,reaction:!0,label:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:516,fluorescence:!1},"photosystem-i":{light:!0,antenna:!0,label:!0,coreColor:"#0cb04b",lightColor:"#ffec7f",antennaColor:"#008000",lightSize:1,position:730,show:!1,center:!1,cofactors:!1},"cytochrome-b6f":{rieske:!0,label:!0,coreColor:"#b2c7da",rieskeColor:"#b2c7da",position:581,show:!1,cofactors:!1},atpsynthase:{reaction:!0,label:!0,cRingColor:"#e4d3bd",alphaSubunitColor:"#d6c2ad",betaSubunitColor:"#c7b29e",gammaSubunitColor:"#f6e8d7",iSubunitColor:"#c7b29e",iiSubunitColor:"#e4d3bd",position:999,show:!1,subunits:!1},"ion-channels":{kChannel:!0,caChannel:!0,label:!0,position:1182,show:!1,pmf:!1},plastoquinone:{show:!0,label:!0,color:"#ffe698",position:766},ferredoxin:{label:!0,color:"#a08c79",position:838,show:!1},"cytochrome-c6":{label:!0,color:"#ff2b2b",position:735,show:!1,cofactor:!1},plastocyanin:{label:!0,color:"#5b9bd5",position:748,show:!1,cofactor:!1},fnr:{reaction:!0,label:!0,color:"#eecc00",position:790,show:!1},ptox:{reaction:!0,color:"#c2aaff",position:476,show:!1},thylakoidmembrane:{show:!0,color:"#dbdbdb"},stroma:{show:!0,label:"stroma",showLabel:!0},lumen:{show:!0,label:"lumen",showLabel:!0,color:"#ffe5e5"},"electron-flux":{show:!0,ps_ii_to_pq:!0,position:694,flow_q_cycle:!1,b6f_to_pc:!1,pc_to_ps_i:!1,ps_i_to_fd:!1,fd_to_fnr:!1,fd_to_cyt_b6f:!1},"proton-flux":{show:!0,h2o_lumen:!0,stroma_ps_ii:!0,position:693,ps_ii_atp_synthase:!1,atp_synthase:!1,stroma_b6f:!1,b6f_lumen:!1},"ion-flux":{kChannel:!0,caChannel:!0,position:1189,show:!1},"photosystem-ii-repair":{antenna:!0,light:!0,d1:!0,cycle:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:110,show:!1},vdx:{ze:!0,vde:!0,psbs:!0,pathway:!0,position:38,show:!1},regulation:{qe:!0,qi:!0,pmf:!0,position:74,show:!1}}},{title:"Cytochrome bf",settings:{"photosystem-ii":{antenna:!0,light:!0,reaction:!0,label:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:237,show:!1,fluorescence:!1,center:!1,cofactors:!1},"photosystem-i":{light:!0,antenna:!0,label:!0,coreColor:"#0cb04b",lightColor:"#ffec7f",antennaColor:"#008000",lightSize:1,position:730,show:!1,center:!1,cofactors:!1},"cytochrome-b6f":{show:!0,cofactors:!0,rieske:!0,label:!0,coreColor:"#b2c7da",rieskeColor:"#b2c7da",position:623},atpsynthase:{reaction:!0,label:!0,cRingColor:"#e4d3bd",alphaSubunitColor:"#d6c2ad",betaSubunitColor:"#c7b29e",gammaSubunitColor:"#f6e8d7",iSubunitColor:"#c7b29e",iiSubunitColor:"#e4d3bd",position:999,show:!1,subunits:!1},"ion-channels":{kChannel:!0,caChannel:!0,label:!0,position:1182,show:!1,pmf:!1},plastoquinone:{show:!0,label:!0,color:"#ffe698",position:518},ferredoxin:{label:!0,color:"#a08c79",position:838,show:!1},"cytochrome-c6":{label:!0,color:"#ff2b2b",position:735,show:!1,cofactor:!1},plastocyanin:{show:!0,label:!0,color:"#5b9bd5",position:796,cofactor:!1},fnr:{reaction:!0,label:!0,color:"#eecc00",position:790,show:!1},ptox:{reaction:!0,color:"#c2aaff",position:476,show:!1},thylakoidmembrane:{show:!0,color:"#dbdbdb"},stroma:{show:!0,label:"stroma",showLabel:!0},lumen:{show:!0,label:"lumen",showLabel:!0,color:"#ffe5e5"},"electron-flux":{show:!0,flow_q_cycle:!0,b6f_to_pc:!0,position:455,ps_ii_to_pq:!1,pc_to_ps_i:!1,ps_i_to_fd:!1,fd_to_fnr:!1,fd_to_cyt_b6f:!1},"proton-flux":{show:!0,stroma_b6f:!0,b6f_lumen:!0,position:442,h2o_lumen:!1,ps_ii_atp_synthase:!1,atp_synthase:!1,stroma_ps_ii:!1},"ion-flux":{kChannel:!0,caChannel:!0,position:1189,show:!1},"photosystem-ii-repair":{antenna:!0,light:!0,d1:!0,cycle:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:110,show:!1},vdx:{ze:!0,vde:!0,psbs:!0,pathway:!0,position:38,show:!1},regulation:{qe:!0,qi:!0,pmf:!0,position:74,show:!1}}},{title:"Photosystem I",settings:{"photosystem-ii":{antenna:!0,light:!0,reaction:!0,label:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:237,show:!1,fluorescence:!1,center:!1,cofactors:!1},"photosystem-i":{show:!0,center:!0,cofactors:!0,light:!0,antenna:!0,label:!0,coreColor:"#0cb04b",lightColor:"#ffec7f",antennaColor:"#008000",lightSize:1,position:618},"cytochrome-b6f":{rieske:!0,label:!0,coreColor:"#b2c7da",rieskeColor:"#b2c7da",position:581,show:!1,cofactors:!1},atpsynthase:{reaction:!0,label:!0,cRingColor:"#e4d3bd",alphaSubunitColor:"#d6c2ad",betaSubunitColor:"#c7b29e",gammaSubunitColor:"#f6e8d7",iSubunitColor:"#c7b29e",iiSubunitColor:"#e4d3bd",position:999,show:!1,subunits:!1},"ion-channels":{kChannel:!0,caChannel:!0,label:!0,position:1182,show:!1,pmf:!1},plastoquinone:{label:!0,color:"#ffe698",position:484,show:!1},ferredoxin:{show:!0,label:!0,color:"#a08c79",position:722},"cytochrome-c6":{label:!0,color:"#ff2b2b",position:735,show:!1,cofactor:!1},plastocyanin:{show:!0,label:!0,color:"#5b9bd5",position:628,cofactor:!1},fnr:{show:!0,reaction:!0,label:!0,color:"#eecc00",position:674},ptox:{reaction:!0,color:"#c2aaff",position:476,show:!1},thylakoidmembrane:{show:!0,color:"#dbdbdb"},stroma:{show:!0,label:"stroma",showLabel:!0},lumen:{show:!0,label:"lumen",showLabel:!0,color:"#ffe5e5"},"electron-flux":{show:!0,pc_to_ps_i:!0,ps_i_to_fd:!0,fd_to_fnr:!0,position:300,ps_ii_to_pq:!1,flow_q_cycle:!1,b6f_to_pc:!1,fd_to_cyt_b6f:!1},"proton-flux":{h2o_lumen:!0,ps_ii_atp_synthase:!0,atp_synthase:!0,stroma_ps_ii:!0,stroma_b6f:!0,b6f_lumen:!0,position:407,show:!1},"ion-flux":{kChannel:!0,caChannel:!0,position:1189,show:!1},"photosystem-ii-repair":{antenna:!0,light:!0,d1:!0,cycle:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:110,show:!1},vdx:{ze:!0,vde:!0,psbs:!0,pathway:!0,position:38,show:!1},regulation:{qe:!0,qi:!0,pmf:!0,position:74,show:!1}}},{title:"ATP Synthase",settings:{"photosystem-ii":{antenna:!0,light:!0,reaction:!0,label:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:237,show:!1,fluorescence:!1,center:!1,cofactors:!1},"photosystem-i":{light:!0,antenna:!0,label:!0,coreColor:"#0cb04b",lightColor:"#ffec7f",antennaColor:"#008000",lightSize:1,position:730,show:!1,center:!1,cofactors:!1},"cytochrome-b6f":{rieske:!0,label:!0,coreColor:"#b2c7da",rieskeColor:"#b2c7da",position:581,show:!1,cofactors:!1},atpsynthase:{show:!0,subunits:!0,reaction:!0,label:!0,cRingColor:"#e4d3bd",alphaSubunitColor:"#d6c2ad",betaSubunitColor:"#c7b29e",gammaSubunitColor:"#f6e8d7",iSubunitColor:"#c7b29e",iiSubunitColor:"#e4d3bd",position:623},"ion-channels":{show:!0,pmf:!0,position:679,kChannel:!1,caChannel:!1,label:!1},plastoquinone:{label:!0,color:"#ffe698",position:484,show:!1},ferredoxin:{label:!0,color:"#a08c79",position:838,show:!1},"cytochrome-c6":{label:!0,color:"#ff2b2b",position:735,show:!1,cofactor:!1},plastocyanin:{label:!0,color:"#5b9bd5",position:748,show:!1,cofactor:!1},fnr:{reaction:!0,label:!0,color:"#eecc00",position:790,show:!1},ptox:{reaction:!0,color:"#c2aaff",position:476,show:!1},thylakoidmembrane:{show:!0,color:"#dbdbdb"},stroma:{show:!0,label:"stroma",showLabel:!0},lumen:{show:!0,label:"lumen",showLabel:!0,color:"#ffe5e5"},"electron-flux":{ps_ii_to_pq:!0,flow_q_cycle:!0,b6f_to_pc:!0,pc_to_ps_i:!0,ps_i_to_fd:!0,fd_to_fnr:!0,fd_to_cyt_b6f:!0,position:414,show:!1},"proton-flux":{show:!0,atp_synthase:!0,position:31,h2o_lumen:!1,ps_ii_atp_synthase:!1,stroma_ps_ii:!1,stroma_b6f:!1,b6f_lumen:!1},"ion-flux":{kChannel:!0,caChannel:!0,position:1189,show:!1},"photosystem-ii-repair":{antenna:!0,light:!0,d1:!0,cycle:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:110,show:!1},vdx:{ze:!0,vde:!0,psbs:!0,pathway:!0,position:38,show:!1},regulation:{qe:!0,qi:!0,pmf:!0,position:74,show:!1}}}],Miscellaneous:[{title:"Show me Everything!",settings:{"photosystem-ii":{show:!0,antenna:!0,light:!0,center:!0,cofactors:!0,reaction:!0,label:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:237,fluorescence:!1},"photosystem-i":{show:!0,center:!0,cofactors:!0,light:!0,antenna:!0,label:!0,coreColor:"#0cb04b",lightColor:"#ffec7f",antennaColor:"#008000",lightSize:1,position:730},"cytochrome-b6f":{show:!0,cofactors:!0,rieske:!0,label:!0,coreColor:"#b2c7da",rieskeColor:"#b2c7da",position:581},atpsynthase:{show:!0,subunits:!0,reaction:!0,label:!0,cRingColor:"#e4d3bd",alphaSubunitColor:"#d6c2ad",betaSubunitColor:"#c7b29e",gammaSubunitColor:"#f6e8d7",iSubunitColor:"#c7b29e",iiSubunitColor:"#e4d3bd",position:999},"ion-channels":{show:!0,kChannel:!0,caChannel:!0,label:!0,pmf:!0,position:1182},plastoquinone:{show:!0,label:!0,color:"#ffe698",position:484},ferredoxin:{show:!0,label:!0,color:"#a08c79",position:838},"cytochrome-c6":{label:!0,color:"#ff2b2b",position:735,show:!1,cofactor:!1},plastocyanin:{show:!0,label:!0,cofactor:!0,color:"#5b9bd5",position:748},fnr:{show:!0,reaction:!0,label:!0,color:"#eecc00",position:790},ptox:{show:!0,reaction:!0,color:"#c2aaff",position:476},"electron-flux":{show:!0,ps_ii_to_pq:!0,flow_q_cycle:!0,b6f_to_pc:!0,pc_to_ps_i:!0,ps_i_to_fd:!0,fd_to_fnr:!0,fd_to_cyt_b6f:!0,position:414},"proton-flux":{show:!0,h2o_lumen:!0,ps_ii_atp_synthase:!0,atp_synthase:!0,stroma_ps_ii:!0,stroma_b6f:!0,b6f_lumen:!0,position:407},"ion-flux":{show:!0,kChannel:!0,caChannel:!0,position:1189},"photosystem-ii-repair":{show:!0,antenna:!0,light:!0,d1:!0,cycle:!0,coreColor:"#b4d66f",lightColor:"#ffec7f",antennaColor:"#8bc300",lightSize:1,position:110},vdx:{show:!0,ze:!0,vde:!0,psbs:!0,pathway:!0,position:38},quenching:{show:!0,qe:!0,qi:!0,pmf:!0,position:74},thylakoidmembrane:{show:!0,border:!0,color:"#dbdbdb"},stroma:{show:!0,label:"stroma",showLabel:!0,color:"#0070c4"},lumen:{show:!0,label:"lumen",showLabel:!0,color:"#ffe5e5"}}}]};function Wn(t){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(t)}function Qn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return $n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(n),!0).forEach((function(e){Kn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kn(t,e,n){return(e=ei(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ti(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ei(i.key),i)}}function ei(t){var e=function(t,e){if("object"!==Wn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==Wn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Wn(e)?e:String(e)}function ni(t,e){ri(t,e),e.add(t)}function ii(t,e,n){ri(t,e),e.set(t,n)}function ri(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oi(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,li(t,e,"get"))}function si(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function ai(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,li(t,e,"set"),n),n}function li(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var hi=new WeakMap,ci=new WeakMap,ui=new WeakMap,fi=new WeakMap,pi=new WeakMap,di=new WeakMap,mi=new WeakSet,yi=new WeakSet,gi=new WeakSet,vi=new WeakSet,bi=new WeakSet,xi=new WeakSet,wi=new WeakSet,Ci=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ni(this,wi),ni(this,xi),ni(this,bi),ni(this,vi),ni(this,gi),ni(this,yi),ni(this,mi),ii(this,hi,{writable:!0,value:void 0}),ii(this,ci,{writable:!0,value:void 0}),ii(this,ui,{writable:!0,value:void 0}),ii(this,fi,{writable:!0,value:void 0}),ii(this,pi,{writable:!0,value:void 0}),ii(this,di,{writable:!0,value:void 0}),this.width=e||1400,this.height=n||600,ai(this,pi,on()(Rn)),ai(this,fi,si(this,yi,ki).call(this)),ai(this,ui,oi(this,fi)),ai(this,hi,Xn||{}),ai(this,ci,Vn||[]),ai(this,di,Hn),this.references=Yn}var e,n;return e=t,n=[{key:"build",value:function(){var t=We().size(this.width,this.height);for(var e in t.viewbox("0 0 ".concat(this.width," ").concat(this.height)),oi(this,ci)){var n=oi(this,ci)[e];if(this.settings[n]&&this.settings[n].show){var i=Jn({},this.settings[n]);switch(n){case"stroma":t.svg(Nn(Jn({},i)));break;case"thylakoidmembrane":t.svg(qn(Jn({},i)));break;case"lumen":t.svg(Cn(Jn({},i)));break;case"plastoquinone":t.svg(Fn(Jn({},i)));break;case"plastocyanin":t.svg(zn(Jn({},i)));break;case"cytochrome-c6":t.svg(un(Jn({},i)));break;case"photosystem-i":t.svg(kn(Jn({},i)));break;case"atpsynthase":t.svg(an(Jn({},i)));break;case"photosystem-ii":t.svg(On(Jn({},i)));break;case"photosystem-ii-repair":t.svg(Mn(Jn({},i)));break;case"cytochrome-b6f":t.svg(hn(Jn({},i)));break;case"vdx":t.svg(Gn(Jn({},i)));break;case"ferredoxin":t.svg(mn(Jn({},i)));break;case"fnr":t.svg(gn(Jn({},i)));break;case"electron-flux":t.svg(pn(Jn({},i)));break;case"proton-flux":t.svg(jn(Jn({},i)));break;case"ptox":t.svg(Pn(Jn({},i)));break;case"ion-channels":t.svg(bn(Jn({},i)));break;case"ion-flux":t.svg(wn(Jn({},i)));break;case"quenching":t.svg(In(Jn({},i)))}}}return t.svg()}},{key:"settingsSave",get:function(){var t=this.settings,e=oi(this,fi);return si(this,mi,_i).call(this,t,e)}},{key:"settings",get:function(){return oi(this,ui)},set:function(t){ai(this,ui,nn()(oi(this,ui),t))}},{key:"reset",value:function(){ai(this,ui,on()(oi(this,fi)))}},{key:"settingsHTML",value:function(){var t=this,e=0,n='<form id="settingsform">',i=function(i){var r="ps-"+crypto.randomUUID(),o="ps-"+crypto.randomUUID();n+='<div style="cursor:pointer;" class="small fw-bold mt-3 mb-2 d-flex justify-content-between align-items-center" data-bs-toggle="collapse" data-bs-target="#'.concat(r,'" aria-controls="Toggle ').concat(i,'">\n        ').concat(i,'\n        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-expand me-1" viewBox="0 0 16 16">\n          <path fill-rule="evenodd" d="M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"/>\n        </svg>\n      </div>'),n+='<div class="collapse '.concat(e?"":"show",'" id="').concat(r,'" data-bs-parent="#settingsform">'),n+='<div class="accordion" id="'.concat(o,'">');var s=function(r){var s=oi(t,pi).findIndex((function(e){return e.id==oi(t,hi)[i][r]}));if(-1==s)return"continue";if(void 0===oi(t,pi)[s].show&&void 0===oi(t,pi)[s].options)return"continue";if(n+='<div class="accordion-item">\n          <h2 class="accordion-header" id="heading'.concat(s,'">\n            <button class="accordion-button collapsed ps-5" type="button" data-bs-toggle="collapse" data-bs-target="#collapse').concat(s,'" aria-expanded="').concat(0===e?"true":"false",'" aria-controls="collapse').concat(s,'">\n            ').concat(oi(t,pi)[s].headerTitle,"\n            </button>\n            ").concat(si(t,vi,Mi).call(t,[oi(t,pi)[s].id,"show"].join("."),{value:oi(t,pi)[s].show,label:"",disabled:oi(t,pi)[s].disabled||!1}),'\n          </h2>\n          <div id="collapse').concat(s,'" class="accordion-collapse collapse" aria-labelledby="heading').concat(s,'" data-bs-parent="#').concat(o,'">\n            <div class="accordion-body">'),void 0!==oi(t,pi)[s].options&&oi(t,pi)[s].options.length>0)for(var a in oi(t,pi)[s].options){var l=oi(t,pi)[s].options[a],h=[oi(t,pi)[s].id,l.name].join(".");switch(l.type){case"color":n+=si(t,xi,Oi).call(t,h,Jn({},l));break;case"text":n+=si(t,bi,Ai).call(t,h,Jn({},l));break;case"check":n+=si(t,gi,Li).call(t,h,Jn({},l));break;case"range":n+=si(t,wi,Ti).call(t,h,Jn({},l));break;case"separator":n+='<div class="separator"><hr></div>'}}else n+='<div class="form-text">No settings available</div>';n+="</div>\n          </div>\n        </div>",e++};for(var a in oi(t,hi)[i])s(a);n+="</div>",n+="</div>"};for(var r in oi(this,hi))i(r);return n+="</form>"}},{key:"applyPreset",value:function(t){var e;ai(this,ui,(null===(e=$e()(oi(this,di),t))||void 0===e?void 0:e.settings)||{})}},{key:"presets",get:function(){return oi(this,di)}},{key:"presetsHTML",value:function(){var t='<select class="form-select" aria-label="Default select example" id="presets-selector">';for(var e in t+='<option value="-1" disabled selected>Select&hellip;</option>',this.presets){for(var n in t+='<optgroup label="'.concat(e,'">'),this.presets[e])t+='<option value="'.concat(e,"[").concat(n,']">').concat(this.presets[e][n].title,"</option>");t+="</optgroup>"}return t+"</select>"}},{key:"referencesHTML",value:function(){var t='<ol class="list-style ps-3 small">';for(var e in this.references)t+="<li>".concat(this.references[e],"</li>");return t+"</ol>"}},{key:"legend",value:function(){var t=[];for(var e in oi(this,ci)){var n=oi(this,ci)[e];if(this.settings[n]&&this.settings[n].show)switch(n){case"stroma":t.push("The stroma is the space between the thylakoid membrane and the chloroplast envelope.");break;case"thylakoidmembrane":t.push("The thylakoid membrane is a system of interconnected membranes organized in grana stacks and stroma lamellae and harboring the complexes of the photosynthetic machinery.");break;case"lumen":t.push("The lumen is enclosed by the thylakoid membrane.");break;case"plastoquinone":t.push("Plastoquinone (PQ) is reduced to plastoquinol (PQH) at the Q side of PSII. The electrons are shuttled to the cytochrome <em>bf</em> complex.");break;case"plastocyanin":t.push("Plastocyanin (Pc) is a small copper (Cu) containing luminal protein that transfers electrons from cytochrome <em>f</em> to P.");break;case"cytochrome-c6":t.push("Cytochrome c (Cyt c) is a small, heme (Fe) binding, luminal protein, transferring electrons from cytochrome <em>f</em> to P.");break;case"photosystem-i":t.push("The reaction center of PSI (P) oxidizes the luminal electron donor PC or cytochrome c after being excited and transfers the electron to the stromal acceptor, ferredoxin (Fd).");break;case"atpsynthase":t.push("The ATP synthase is a molecular motor that catalyzes the condensation reaction of adenosine diphosphate (ADP) and inorganic phosphate (P) to adenosine triphosphate (ATP) by utilizing a proton gradient between the stroma and lumen generated by proton deposition into the lumen by PSII water oxidation and the Q-cycle.");break;case"photosystem-ii":t.push("Photosystem II (PSII), with its reaction center (P) oxidizes water when exited, producing electrons (e) and protons (H). The protons are deposited into the lumen and the electrons are transferred to the plastoquinone pool.");break;case"photosystem-ii-repair":t.push("Photodamaged PSII undergoes repair in a multi-step process in which the PSII core moves from the grana to the stroma thylakoids. The damaged D1 subunit is replaced and the PSII monomers are migrating back to the grana thylakoids for dimerization and supercomplex assembly.");break;case"cytochrome-b6f":t.push("The cytochrome <em>bf</em> complex oxidizes PQH to PQ while pumping protons from the stroma into the lumen in the so-called Q-cycle. The electrons from PQH are then transferred via the cytochrome <em>f</em> subunit to the luminal electron donor for photosystem I (PSI).");break;case"vdx":t.push("The inducible part of non-photochemical quenching (NPQ), qE, is mediated through PsbS and the xanthophyll cycle. With lumen acidification, the violaxanthin de-epoxidase (VDE) is activated, converting violaxanthin (V) into zeaxanthin (Z) and the sensor PsbS is protonated activating the quenching of excess excitation energy.");break;case"ferredoxin":t.push("Ferredoxin (Fd) binds to the stromal acceptor side of PSI where it is reduced and, during linear electron flow, the electron is transferred onto ferredoxin NADP oxidoreductase (FNR).");break;case"fnr":t.push("The Ferredoxin NADP oxidoreductase (FNR) picks up an electron from Fd and reduces NADP to NADPH.");break;case"electron-flux":t.push("Orange arrows indicate the transfer of electrons (e).");break;case"proton-flux":t.push("Light blue arrows indicate the transfer of protons (H).");break;case"ptox":t.push("The luminal plastid terminal oxidase (PTOX) can act as an electron sink by reducing oxygen (O) to water (HO).");break;case"ion-channels":t.push("Transthylakoid ion channels allow in influx and efflux of ions between the stroma and lumen.");break;case"ion-flux":t.push("The ions Ca and K act as counter ions to the initial build-up of the proton gradient (H) allowing to store part of the <em>pmf</em> as  (electric component of <em>pmf</em>) during steady-state.");break;case"quenching":t.push("The red, dashed arrows represent a subset of possible quenching mechanisms including qE and qI as well as the induction of qE through lumen acidification.")}}return"<em>The photosynthetic machinery in higher plants and most green algae</em>.\n    ".concat(t.join(" "))}}],n&&ti(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _i(t,e){var n={};for(var i in e){var r=null==t?void 0:t[i],o=e[i];if(tn()(r)&&tn()(o)){var s=si(this,mi,_i).call(this,r,o);Object.keys(s).length>0&&(n[i]=s)}else Je()(r,o)||(n[i]=o)}return n}function ki(){var t={};for(var e in oi(this,pi)){t[oi(this,pi)[e].id]={};for(var n=0,i=Object.entries(oi(this,pi)[e]);n<i.length;n++){var r=i[n];if(["id","disabled","options","headerTitle"].includes(r[0])||(t[oi(this,pi)[e].id][r[0]]=r[1]),"options"===r[0]){var o,s=Qn(r[1]);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.name&&(t[oi(this,pi)[e].id][a.name]=a.value)}}catch(t){s.e(t)}finally{s.f()}}}}return t}function Li(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,i=void 0===n||n,r=e.label,o=void 0===r?"label":r,s="ps-"+crypto.randomUUID();return'<div class="form-check mb-1">\n      <input class="form-check-input" name="'.concat(t,'" type="checkbox" value="',!0,'" id="').concat(s,'" ').concat(i?"checked":"",'>\n      <label class="form-check-label" for="').concat(s,'">').concat(o,"</label>\n    </div>")}function Mi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"switch",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,i=void 0===n||n,r=e.label,o=void 0===r?"label":r,s=e.disabled,a=void 0!==s&&s,l="ps-"+crypto.randomUUID();return'<div class="form-check form-switch fs-6" style="position:relative; margin:-2.1rem .5rem .6rem .5rem; z-index:10; width:2em;">\n    <input class="form-check-input" type="checkbox" role="switch" name="'.concat(t,'" value="',!0,'" id="').concat(l,'" ').concat(i?"checked":""," ").concat(a?"disabled":"",' switch>\n    <label class="form-check-label" for="').concat(l,'">').concat(o,"</label>\n  </div>")}function Ai(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,i=void 0===n?"Text":n,r=e.label,o=void 0===r?"label":r,s="ps-"+crypto.randomUUID();return'<div class="mb-1">\n      <label for="'.concat(s,'" class="form-label">').concat(o,'</label>\n      <input type="text" class="form-control form-control" name="').concat(t,'" id="').concat(s,'" placeholder="').concat(i,'" value="').concat(i,'">\n    </div>')}function Oi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"color",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,i=void 0===n?"#000000":n,r=e.label,o=void 0===r?"label":r,s="ps-"+crypto.randomUUID();return'<div class="d-flex">\n      <input type="color" class="form-control form-control-color" name="'.concat(t,'" id="').concat(s,'" value="').concat(i,'" title="Choose ').concat(o,' color">\n      <label for="').concat(s,'" class="col-sm-9 col-form-label">').concat(o,"</label>\n    </div>")}function Ti(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"range",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,i=void 0===n?-1:n,r=e.label,o=void 0===r?"label":r,s=e.step,a=void 0===s?1:s,l=e.min,h=void 0===l?0:l,c=e.max,u=void 0===c?1:c,f="ps-"+crypto.randomUUID();return'<div class="mt-1">\n    <label for="'.concat(f,'" class="form-label" style="margin-bottom:-1.5rem">\n      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi" viewBox="0 0 16 16">\n        <path d="M8 1.99911C7.72386 1.99911 7.5 2.22296 7.5 2.49911L7.5 8.29211L5.354 6.14511C5.15849 5.9496 4.84151 5.9496 4.646 6.14511C4.45049 6.34062 4.45049 6.6576 4.646 6.85311L7.646 9.85311C7.7398 9.94715 7.86717 10 8 10C8.13283 10 8.2602 9.94715 8.354 9.85311L11.354 6.85311C11.5495 6.6576 11.5495 6.34062 11.354 6.14511C11.1585 5.9496 10.8415 5.9496 10.646 6.14511L8.5 8.29211L8.5 2.49911C8.5 2.22296 8.27614 1.99911 8 1.99911ZM1 12.5C1 12.2239 1.22386 12 1.5 12L14.5 12C14.7761 12 15 12.2239 15 12.5C15 12.7761 14.7761 13 14.5 13L1.5 13C1.22386 13 1 12.7761 1 12.5Z" fill="#000000" fill-rule="nonzero" opacity="1" stroke="none"/>\n      </svg>\n      ').concat(o,'\n    </label>\n    <input type="range" class="form-range" name="').concat(t,'" id="').concat(f,'" value="').concat(i,'" min="').concat(h,'" max="').concat(u,'" step="').concat(a,'">      \n    </div>')}})(),i.default})()));
//# sourceMappingURL=photosynthesis.min.js.map